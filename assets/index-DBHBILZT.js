(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const he={},On=[],Ct=()=>{},Qh=()=>!1,Wi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Eo=t=>t.startsWith("onUpdate:"),Te=Object.assign,wo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Jh=Object.prototype.hasOwnProperty,oe=(t,e)=>Jh.call(t,e),j=Array.isArray,Dn=t=>qs(t)==="[object Map]",ji=t=>qs(t)==="[object Set]",Sl=t=>qs(t)==="[object Date]",z=t=>typeof t=="function",Se=t=>typeof t=="string",bt=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",gc=t=>(de(t)||z(t))&&z(t.then)&&z(t.catch),mc=Object.prototype.toString,qs=t=>mc.call(t),Xh=t=>qs(t).slice(8,-1),vc=t=>qs(t)==="[object Object]",So=t=>Se(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ps=bo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zh=/-(\w)/g,it=Gi(t=>t.replace(Zh,(e,n)=>n?n.toUpperCase():"")),ed=/\B([A-Z])/g,bn=Gi(t=>t.replace(ed,"-$1").toLowerCase()),qi=Gi(t=>t.charAt(0).toUpperCase()+t.slice(1)),pr=Gi(t=>t?`on${qi(t)}`:""),zt=(t,e)=>!Object.is(t,e),ci=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},yc=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},td=t=>{const e=Se(t)?Number(t):NaN;return isNaN(e)?t:e};let Il;const Ki=()=>Il||(Il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jn(t){if(j(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Se(s)?rd(s):Jn(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Se(t)||de(t))return t}const nd=/;(?![^(]*\))/g,sd=/:([^]+)/,id=/\/\*[^]*?\*\//g;function rd(t){const e={};return t.replace(id,"").split(nd).forEach(n=>{if(n){const s=n.split(sd);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function xt(t){let e="";if(Se(t))e=t;else if(j(t))for(let n=0;n<t.length;n++){const s=xt(t[n]);s&&(e+=s+" ")}else if(de(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const od="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ld=bo(od);function Cc(t){return!!t||t===""}function ad(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=zi(t[s],e[s]);return n}function zi(t,e){if(t===e)return!0;let n=Sl(t),s=Sl(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=bt(t),s=bt(e),n||s)return t===e;if(n=j(t),s=j(e),n||s)return n&&s?ad(t,e):!1;if(n=de(t),s=de(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!zi(t[o],e[o]))return!1}}return String(t)===String(e)}function bc(t,e){return t.findIndex(n=>zi(n,e))}const Ec=t=>!!(t&&t.__v_isRef===!0),hs=t=>Se(t)?t:t==null?"":j(t)||de(t)&&(t.toString===mc||!z(t.toString))?Ec(t)?hs(t.value):JSON.stringify(t,wc,2):String(t),wc=(t,e)=>Ec(e)?wc(t,e.value):Dn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[_r(s,r)+" =>"]=i,n),{})}:ji(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>_r(n))}:bt(e)?_r(e):de(e)&&!j(e)&&!vc(e)?String(e):e,_r=(t,e="")=>{var n;return bt(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class cd{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=je;try{return je=this,e()}finally{je=n}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ud(){return je}let ge;const gr=new WeakSet;class Sc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gr.has(this)&&(gr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tl(this),Rc(this);const e=ge,n=at;ge=this,at=!0;try{return this.fn()}finally{xc(this),ge=e,at=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ro(e);this.deps=this.depsTail=void 0,Tl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$r(this)&&this.run()}get dirty(){return $r(this)}}let Ic=0,_s,gs;function Tc(t,e=!1){if(t.flags|=8,e){t.next=gs,gs=t;return}t.next=_s,_s=t}function Io(){Ic++}function To(){if(--Ic>0)return;if(gs){let e=gs;for(gs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_s;){let e=_s;for(_s=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Rc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function xc(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Ro(s),fd(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function $r(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ac(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ac(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===As)||(t.globalVersion=As,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!$r(t))))return;t.flags|=2;const e=t.dep,n=ge,s=at;ge=t,at=!0;try{Rc(t);const i=t.fn(t._value);(e.version===0||zt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{ge=n,at=s,xc(t),t.flags&=-3}}function Ro(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ro(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function fd(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let at=!0;const Nc=[];function Ot(){Nc.push(at),at=!1}function Dt(){const t=Nc.pop();at=t===void 0?!0:t}function Tl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=ge;ge=void 0;try{e()}finally{ge=n}}}let As=0;class hd{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ge||!at||ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ge)n=this.activeLink=new hd(ge,this),ge.deps?(n.prevDep=ge.depsTail,ge.depsTail.nextDep=n,ge.depsTail=n):ge.deps=ge.depsTail=n,Pc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ge.depsTail,n.nextDep=void 0,ge.depsTail.nextDep=n,ge.depsTail=n,ge.deps===n&&(ge.deps=s)}return n}trigger(e){this.version++,As++,this.notify(e)}notify(e){Io();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{To()}}}function Pc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Pc(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Hr=new WeakMap,pn=Symbol(""),Ur=Symbol(""),Ns=Symbol("");function Me(t,e,n){if(at&&ge){let s=Hr.get(t);s||Hr.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new xo),i.map=s,i.key=n),i.track()}}function Tt(t,e,n,s,i,r){const o=Hr.get(t);if(!o){As++;return}const l=a=>{a&&a.trigger()};if(Io(),e==="clear")o.forEach(l);else{const a=j(t),c=a&&So(n);if(a&&n==="length"){const u=Number(s);o.forEach((f,h)=>{(h==="length"||h===Ns||!bt(h)&&h>=u)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(Ns)),e){case"add":a?c&&l(o.get("length")):(l(o.get(pn)),Dn(t)&&l(o.get(Ur)));break;case"delete":a||(l(o.get(pn)),Dn(t)&&l(o.get(Ur)));break;case"set":Dn(t)&&l(o.get(pn));break}}To()}function In(t){const e=te(t);return e===t?e:(Me(e,"iterate",Ns),st(t)?e:e.map(Oe))}function Yi(t){return Me(t=te(t),"iterate",Ns),t}const dd={__proto__:null,[Symbol.iterator](){return mr(this,Symbol.iterator,Oe)},concat(...t){return In(this).concat(...t.map(e=>j(e)?In(e):e))},entries(){return mr(this,"entries",t=>(t[1]=Oe(t[1]),t))},every(t,e){return wt(this,"every",t,e,void 0,arguments)},filter(t,e){return wt(this,"filter",t,e,n=>n.map(Oe),arguments)},find(t,e){return wt(this,"find",t,e,Oe,arguments)},findIndex(t,e){return wt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return wt(this,"findLast",t,e,Oe,arguments)},findLastIndex(t,e){return wt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return wt(this,"forEach",t,e,void 0,arguments)},includes(...t){return vr(this,"includes",t)},indexOf(...t){return vr(this,"indexOf",t)},join(t){return In(this).join(t)},lastIndexOf(...t){return vr(this,"lastIndexOf",t)},map(t,e){return wt(this,"map",t,e,void 0,arguments)},pop(){return ss(this,"pop")},push(...t){return ss(this,"push",t)},reduce(t,...e){return Rl(this,"reduce",t,e)},reduceRight(t,...e){return Rl(this,"reduceRight",t,e)},shift(){return ss(this,"shift")},some(t,e){return wt(this,"some",t,e,void 0,arguments)},splice(...t){return ss(this,"splice",t)},toReversed(){return In(this).toReversed()},toSorted(t){return In(this).toSorted(t)},toSpliced(...t){return In(this).toSpliced(...t)},unshift(...t){return ss(this,"unshift",t)},values(){return mr(this,"values",Oe)}};function mr(t,e,n){const s=Yi(t),i=s[e]();return s!==t&&!st(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const pd=Array.prototype;function wt(t,e,n,s,i,r){const o=Yi(t),l=o!==t&&!st(t),a=o[e];if(a!==pd[e]){const f=a.apply(t,r);return l?Oe(f):f}let c=n;o!==t&&(l?c=function(f,h){return n.call(this,Oe(f),h,t)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,t)}));const u=a.call(o,c,s);return l&&i?i(u):u}function Rl(t,e,n,s){const i=Yi(t);let r=n;return i!==t&&(st(t)?n.length>3&&(r=function(o,l,a){return n.call(this,o,l,a,t)}):r=function(o,l,a){return n.call(this,o,Oe(l),a,t)}),i[e](r,...s)}function vr(t,e,n){const s=te(t);Me(s,"iterate",Ns);const i=s[e](...n);return(i===-1||i===!1)&&Po(n[0])?(n[0]=te(n[0]),s[e](...n)):i}function ss(t,e,n=[]){Ot(),Io();const s=te(t)[e].apply(t,n);return To(),Dt(),s}const _d=bo("__proto__,__v_isRef,__isVue"),Oc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bt));function gd(t){bt(t)||(t=String(t));const e=te(this);return Me(e,"has",t),e.hasOwnProperty(t)}class Dc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Td:Fc:r?Lc:Mc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=j(e);if(!i){let a;if(o&&(a=dd[n]))return a;if(n==="hasOwnProperty")return gd}const l=Reflect.get(e,n,Ve(e)?e:s);return(bt(n)?Oc.has(n):_d(n))||(i||Me(e,"get",n),r)?l:Ve(l)?o&&So(n)?l:l.value:de(l)?i?Vc(l):Qi(l):l}}class kc extends Dc{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const a=Xt(r);if(!st(s)&&!Xt(s)&&(r=te(r),s=te(s)),!j(e)&&Ve(r)&&!Ve(s))return a?!1:(r.value=s,!0)}const o=j(e)&&So(n)?Number(n)<e.length:oe(e,n),l=Reflect.set(e,n,s,Ve(e)?e:i);return e===te(i)&&(o?zt(s,r)&&Tt(e,"set",n,s):Tt(e,"add",n,s)),l}deleteProperty(e,n){const s=oe(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Tt(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!bt(n)||!Oc.has(n))&&Me(e,"has",n),s}ownKeys(e){return Me(e,"iterate",j(e)?"length":pn),Reflect.ownKeys(e)}}class md extends Dc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const vd=new kc,yd=new md,Cd=new kc(!0);const Wr=t=>t,si=t=>Reflect.getPrototypeOf(t);function bd(t,e,n){return function(...s){const i=this.__v_raw,r=te(i),o=Dn(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...s),u=n?Wr:e?pi:Oe;return!e&&Me(r,"iterate",a?Ur:pn),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function ii(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ed(t,e){const n={get(i){const r=this.__v_raw,o=te(r),l=te(i);t||(zt(i,l)&&Me(o,"get",i),Me(o,"get",l));const{has:a}=si(o),c=e?Wr:t?pi:Oe;if(a.call(o,i))return c(r.get(i));if(a.call(o,l))return c(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Me(te(i),"iterate",pn),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=te(r),l=te(i);return t||(zt(i,l)&&Me(o,"has",i),Me(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,a=te(l),c=e?Wr:t?pi:Oe;return!t&&Me(a,"iterate",pn),l.forEach((u,f)=>i.call(r,c(u),c(f),o))}};return Te(n,t?{add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear")}:{add(i){!e&&!st(i)&&!Xt(i)&&(i=te(i));const r=te(this);return si(r).has.call(r,i)||(r.add(i),Tt(r,"add",i,i)),this},set(i,r){!e&&!st(r)&&!Xt(r)&&(r=te(r));const o=te(this),{has:l,get:a}=si(o);let c=l.call(o,i);c||(i=te(i),c=l.call(o,i));const u=a.call(o,i);return o.set(i,r),c?zt(r,u)&&Tt(o,"set",i,r):Tt(o,"add",i,r),this},delete(i){const r=te(this),{has:o,get:l}=si(r);let a=o.call(r,i);a||(i=te(i),a=o.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&Tt(r,"delete",i,void 0),c},clear(){const i=te(this),r=i.size!==0,o=i.clear();return r&&Tt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=bd(i,t,e)}),n}function Ao(t,e){const n=Ed(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(oe(n,i)&&i in s?n:s,i,r)}const wd={get:Ao(!1,!1)},Sd={get:Ao(!1,!0)},Id={get:Ao(!0,!1)};const Mc=new WeakMap,Lc=new WeakMap,Fc=new WeakMap,Td=new WeakMap;function Rd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xd(t){return t.__v_skip||!Object.isExtensible(t)?0:Rd(Xh(t))}function Qi(t){return Xt(t)?t:No(t,!1,vd,wd,Mc)}function Bc(t){return No(t,!1,Cd,Sd,Lc)}function Vc(t){return No(t,!0,yd,Id,Fc)}function No(t,e,n,s,i){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=xd(t);if(r===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,r===2?s:n);return i.set(t,l),l}function kn(t){return Xt(t)?kn(t.__v_raw):!!(t&&t.__v_isReactive)}function Xt(t){return!!(t&&t.__v_isReadonly)}function st(t){return!!(t&&t.__v_isShallow)}function Po(t){return t?!!t.__v_raw:!1}function te(t){const e=t&&t.__v_raw;return e?te(e):t}function Ad(t){return!oe(t,"__v_skip")&&Object.isExtensible(t)&&yc(t,"__v_skip",!0),t}const Oe=t=>de(t)?Qi(t):t,pi=t=>de(t)?Vc(t):t;function Ve(t){return t?t.__v_isRef===!0:!1}function Le(t){return $c(t,!1)}function Nd(t){return $c(t,!0)}function $c(t,e){return Ve(t)?t:new Pd(t,e)}class Pd{constructor(e,n){this.dep=new xo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:te(e),this._value=n?e:Oe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||st(e)||Xt(e);e=s?e:te(e),zt(e,n)&&(this._rawValue=e,this._value=s?e:Oe(e),this.dep.trigger())}}function Mn(t){return Ve(t)?t.value:t}const Od={get:(t,e,n)=>e==="__v_raw"?t:Mn(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ve(i)&&!Ve(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Hc(t){return kn(t)?t:new Proxy(t,Od)}class Dd{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=As-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return Tc(this,!0),!0}get value(){const e=this.dep.track();return Ac(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kd(t,e,n=!1){let s,i;return z(t)?s=t:(s=t.get,i=t.set),new Dd(s,i,n)}const ri={},_i=new WeakMap;let ln;function Md(t,e=!1,n=ln){if(n){let s=_i.get(n);s||_i.set(n,s=[]),s.push(t)}}function Ld(t,e,n=he){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:l,call:a}=n,c=M=>i?M:st(M)||i===!1||i===0?Rt(M,1):Rt(M);let u,f,h,d,m=!1,v=!1;if(Ve(t)?(f=()=>t.value,m=st(t)):kn(t)?(f=()=>c(t),m=!0):j(t)?(v=!0,m=t.some(M=>kn(M)||st(M)),f=()=>t.map(M=>{if(Ve(M))return M.value;if(kn(M))return c(M);if(z(M))return a?a(M,2):M()})):z(t)?e?f=a?()=>a(t,2):t:f=()=>{if(h){Ot();try{h()}finally{Dt()}}const M=ln;ln=u;try{return a?a(t,3,[d]):t(d)}finally{ln=M}}:f=Ct,e&&i){const M=f,N=i===!0?1/0:i;f=()=>Rt(M(),N)}const D=ud(),k=()=>{u.stop(),D&&D.active&&wo(D.effects,u)};if(r&&e){const M=e;e=(...N)=>{M(...N),k()}}let A=v?new Array(t.length).fill(ri):ri;const B=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(e){const N=u.run();if(i||m||(v?N.some((H,L)=>zt(H,A[L])):zt(N,A))){h&&h();const H=ln;ln=u;try{const L=[N,A===ri?void 0:v&&A[0]===ri?[]:A,d];A=N,a?a(e,3,L):e(...L)}finally{ln=H}}}else u.run()};return l&&l(B),u=new Sc(f),u.scheduler=o?()=>o(B,!1):B,d=M=>Md(M,!1,u),h=u.onStop=()=>{const M=_i.get(u);if(M){if(a)a(M,4);else for(const N of M)N();_i.delete(u)}},e?s?B(!0):A=u.run():o?o(B.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function Rt(t,e=1/0,n){if(e<=0||!de(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ve(t))Rt(t.value,e,n);else if(j(t))for(let s=0;s<t.length;s++)Rt(t[s],e,n);else if(ji(t)||Dn(t))t.forEach(s=>{Rt(s,e,n)});else if(vc(t)){for(const s in t)Rt(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Rt(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ks(t,e,n,s){try{return s?t(...s):t()}catch(i){Ji(i,e,n)}}function ut(t,e,n,s){if(z(t)){const i=Ks(t,e,n,s);return i&&gc(i)&&i.catch(r=>{Ji(r,e,n)}),i}if(j(t)){const i=[];for(let r=0;r<t.length;r++)i.push(ut(t[r],e,n,s));return i}}function Ji(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||he;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,c)===!1)return}l=l.parent}if(r){Ot(),Ks(r,null,10,[t,a,c]),Dt();return}}Fd(t,n,i,s,o)}function Fd(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const He=[];let vt=-1;const Ln=[];let Gt=null,xn=0;const Uc=Promise.resolve();let gi=null;function Wc(t){const e=gi||Uc;return t?e.then(this?t.bind(this):t):e}function Bd(t){let e=vt+1,n=He.length;for(;e<n;){const s=e+n>>>1,i=He[s],r=Ps(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function Oo(t){if(!(t.flags&1)){const e=Ps(t),n=He[He.length-1];!n||!(t.flags&2)&&e>=Ps(n)?He.push(t):He.splice(Bd(e),0,t),t.flags|=1,jc()}}function jc(){gi||(gi=Uc.then(qc))}function Vd(t){j(t)?Ln.push(...t):Gt&&t.id===-1?Gt.splice(xn+1,0,t):t.flags&1||(Ln.push(t),t.flags|=1),jc()}function xl(t,e,n=vt+1){for(;n<He.length;n++){const s=He[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;He.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Gc(t){if(Ln.length){const e=[...new Set(Ln)].sort((n,s)=>Ps(n)-Ps(s));if(Ln.length=0,Gt){Gt.push(...e);return}for(Gt=e,xn=0;xn<Gt.length;xn++){const n=Gt[xn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gt=null,xn=0}}const Ps=t=>t.id==null?t.flags&2?-1:1/0:t.id;function qc(t){try{for(vt=0;vt<He.length;vt++){const e=He[vt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ks(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;vt<He.length;vt++){const e=He[vt];e&&(e.flags&=-2)}vt=-1,He.length=0,Gc(),gi=null,(He.length||Ln.length)&&qc()}}let Ge=null,Kc=null;function mi(t){const e=Ge;return Ge=t,Kc=t&&t.type.__scopeId||null,e}function ms(t,e=Ge,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Bl(-1);const r=mi(e);let o;try{o=t(...i)}finally{mi(r),s._d&&Bl(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function an(t,e){if(Ge===null)return t;const n=nr(Ge),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,l,a=he]=e[i];r&&(z(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function sn(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(Ot(),ut(a,n,8,[t.el,l,t,e]),Dt())}}const $d=Symbol("_vte"),Hd=t=>t.__isTeleport,Tn=Symbol("_leaveCb"),oi=Symbol("_enterCb");function Ud(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zi(()=>{t.isMounted=!0}),eu(()=>{t.isUnmounting=!0}),t}const nt=[Function,Array],Wd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:nt,onEnter:nt,onAfterEnter:nt,onEnterCancelled:nt,onBeforeLeave:nt,onLeave:nt,onAfterLeave:nt,onLeaveCancelled:nt,onBeforeAppear:nt,onAppear:nt,onAfterAppear:nt,onAppearCancelled:nt};function jd(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function jr(t,e,n,s,i){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:D,onAppear:k,onAfterAppear:A,onAppearCancelled:B}=e,M=String(t.key),N=jd(n,t),H=($,ee)=>{$&&ut($,s,9,ee)},L=($,ee)=>{const le=ee[1];H($,ee),j($)?$.every(V=>V.length<=1)&&le():$.length<=1&&le()},Z={mode:o,persisted:l,beforeEnter($){let ee=a;if(!n.isMounted)if(r)ee=D||a;else return;$[Tn]&&$[Tn](!0);const le=N[M];le&&An(t,le)&&le.el[Tn]&&le.el[Tn](),H(ee,[$])},enter($){let ee=c,le=u,V=f;if(!n.isMounted)if(r)ee=k||c,le=A||u,V=B||f;else return;let se=!1;const Re=$[oi]=Qe=>{se||(se=!0,Qe?H(V,[$]):H(le,[$]),Z.delayedLeave&&Z.delayedLeave(),$[oi]=void 0)};ee?L(ee,[$,Re]):Re()},leave($,ee){const le=String(t.key);if($[oi]&&$[oi](!0),n.isUnmounting)return ee();H(h,[$]);let V=!1;const se=$[Tn]=Re=>{V||(V=!0,ee(),Re?H(v,[$]):H(m,[$]),$[Tn]=void 0,N[le]===t&&delete N[le])};N[le]=t,d?L(d,[$,se]):se()},clone($){return jr($,e,n,s)}};return Z}function Os(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Os(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function zc(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ne?(o.patchFlag&128&&i++,s=s.concat(zc(o.children,e,l))):(e||o.type!==kt)&&s.push(l!=null?gn(o,{key:l}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Bt(t,e){return z(t)?Te({name:t.name},e,{setup:t}):t}function Yc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vi(t,e,n,s,i=!1){if(j(t)){t.forEach((m,v)=>vi(m,e&&(j(e)?e[v]:e),n,s,i));return}if(vs(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&vi(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?nr(s.component):s.el,o=i?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===he?l.refs={}:l.refs,f=l.setupState,h=te(f),d=f===he?()=>!1:m=>oe(h,m);if(c!=null&&c!==a&&(Se(c)?(u[c]=null,d(c)&&(f[c]=null)):Ve(c)&&(c.value=null)),z(a))Ks(a,l,12,[o,u]);else{const m=Se(a),v=Ve(a);if(m||v){const D=()=>{if(t.f){const k=m?d(a)?f[a]:u[a]:a.value;i?j(k)&&wo(k,r):j(k)?k.includes(r)||k.push(r):m?(u[a]=[r],d(a)&&(f[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else m?(u[a]=o,d(a)&&(f[a]=o)):v&&(a.value=o,t.k&&(u[t.k]=o))};o?(D.id=-1,Ze(D,n)):D()}}}Ki().requestIdleCallback;Ki().cancelIdleCallback;const vs=t=>!!t.type.__asyncLoader,Qc=t=>t.type.__isKeepAlive;function Gd(t,e){Jc(t,"a",e)}function qd(t,e){Jc(t,"da",e)}function Jc(t,e,n=ke){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Xi(e,s,n),n){let i=n.parent;for(;i&&i.parent;)Qc(i.parent.vnode)&&Kd(s,e,n,i),i=i.parent}}function Kd(t,e,n,s){const i=Xi(e,t,s,!0);tu(()=>{wo(s[e],i)},n)}function Xi(t,e,n=ke,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ot();const l=zs(n),a=ut(e,n,t,o);return l(),Dt(),a});return s?i.unshift(r):i.push(r),r}}const Vt=t=>(e,n=ke)=>{(!ks||t==="sp")&&Xi(t,(...s)=>e(...s),n)},Xc=Vt("bm"),Zi=Vt("m"),zd=Vt("bu"),Zc=Vt("u"),eu=Vt("bum"),tu=Vt("um"),Yd=Vt("sp"),Qd=Vt("rtg"),Jd=Vt("rtc");function Xd(t,e=ke){Xi("ec",t,e)}const Zd="components";function nu(t,e){return tp(Zd,t,!0,e)||t}const ep=Symbol.for("v-ndc");function tp(t,e,n=!0,s=!1){const i=Ge||ke;if(i){const r=i.type;{const l=Wp(r,!1);if(l&&(l===e||l===it(e)||l===qi(it(e))))return r}const o=Al(i[t]||r[t],e)||Al(i.appContext[t],e);return!o&&s?r:o}}function Al(t,e){return t&&(t[e]||t[it(e)]||t[qi(it(e))])}function _n(t,e,n,s){let i;const r=n,o=j(t);if(o||Se(t)){const l=o&&kn(t);let a=!1,c=!1;l&&(a=!st(t),c=Xt(t),t=Yi(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(a?c?pi(Oe(t[u])):Oe(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let l=0;l<t;l++)i[l]=e(l+1,l,void 0,r)}else if(de(t))if(t[Symbol.iterator])i=Array.from(t,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(t);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=e(t[u],u,a,r)}}else i=[];return i}const Gr=t=>t?wu(t)?nr(t):Gr(t.parent):null,ys=Te(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gr(t.parent),$root:t=>Gr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>iu(t),$forceUpdate:t=>t.f||(t.f=()=>{Oo(t.update)}),$nextTick:t=>t.n||(t.n=Wc.bind(t.proxy)),$watch:t=>Ep.bind(t)}),yr=(t,e)=>t!==he&&!t.__isScriptSetup&&oe(t,e),np={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(yr(s,e))return o[e]=1,s[e];if(i!==he&&oe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&oe(c,e))return o[e]=3,r[e];if(n!==he&&oe(n,e))return o[e]=4,n[e];qr&&(o[e]=0)}}const u=ys[e];let f,h;if(u)return e==="$attrs"&&Me(t.attrs,"get",""),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==he&&oe(n,e))return o[e]=4,n[e];if(h=a.config.globalProperties,oe(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return yr(i,e)?(i[e]=n,!0):s!==he&&oe(s,e)?(s[e]=n,!0):oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==he&&oe(t,o)||yr(e,o)||(l=r[0])&&oe(l,o)||oe(s,o)||oe(ys,o)||oe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Nl(t){return j(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let qr=!0;function sp(t){const e=iu(t),n=t.proxy,s=t.ctx;qr=!1,e.beforeCreate&&Pl(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:m,activated:v,deactivated:D,beforeDestroy:k,beforeUnmount:A,destroyed:B,unmounted:M,render:N,renderTracked:H,renderTriggered:L,errorCaptured:Z,serverPrefetch:$,expose:ee,inheritAttrs:le,components:V,directives:se,filters:Re}=e;if(c&&ip(c,s,null),o)for(const ce in o){const ie=o[ce];z(ie)&&(s[ce]=ie.bind(n))}if(i){const ce=i.call(n,n);de(ce)&&(t.data=Qi(ce))}if(qr=!0,r)for(const ce in r){const ie=r[ce],Et=z(ie)?ie.bind(n,n):z(ie.get)?ie.get.bind(n,n):Ct,Ht=!z(ie)&&z(ie.set)?ie.set.bind(n):Ct,ht=Be({get:Et,set:Ht});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>ht.value,set:Ue=>ht.value=Ue})}if(l)for(const ce in l)su(l[ce],s,n,ce);if(a){const ce=z(a)?a.call(n):a;Reflect.ownKeys(ce).forEach(ie=>{ui(ie,ce[ie])})}u&&Pl(u,t,"c");function Ee(ce,ie){j(ie)?ie.forEach(Et=>ce(Et.bind(n))):ie&&ce(ie.bind(n))}if(Ee(Xc,f),Ee(Zi,h),Ee(zd,d),Ee(Zc,m),Ee(Gd,v),Ee(qd,D),Ee(Xd,Z),Ee(Jd,H),Ee(Qd,L),Ee(eu,A),Ee(tu,M),Ee(Yd,$),j(ee))if(ee.length){const ce=t.exposed||(t.exposed={});ee.forEach(ie=>{Object.defineProperty(ce,ie,{get:()=>n[ie],set:Et=>n[ie]=Et})})}else t.exposed||(t.exposed={});N&&t.render===Ct&&(t.render=N),le!=null&&(t.inheritAttrs=le),V&&(t.components=V),se&&(t.directives=se),$&&Yc(t)}function ip(t,e,n=Ct){j(t)&&(t=Kr(t));for(const s in t){const i=t[s];let r;de(i)?"default"in i?r=Nt(i.from||s,i.default,!0):r=Nt(i.from||s):r=Nt(i),Ve(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Pl(t,e,n){ut(j(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function su(t,e,n,s){let i=s.includes(".")?mu(n,s):()=>n[s];if(Se(t)){const r=e[t];z(r)&&Bn(i,r)}else if(z(t))Bn(i,t.bind(n));else if(de(t))if(j(t))t.forEach(r=>su(r,e,n,s));else{const r=z(t.handler)?t.handler.bind(n):e[t.handler];z(r)&&Bn(i,r,t)}}function iu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>yi(a,c,o,!0)),yi(a,e,o)),de(e)&&r.set(e,a),a}function yi(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&yi(t,r,n,!0),i&&i.forEach(o=>yi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=rp[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const rp={data:Ol,props:Dl,emits:Dl,methods:ds,computed:ds,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:ds,directives:ds,watch:lp,provide:Ol,inject:op};function Ol(t,e){return e?t?function(){return Te(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function op(t,e){return ds(Kr(t),Kr(e))}function Kr(t){if(j(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $e(t,e){return t?[...new Set([].concat(t,e))]:e}function ds(t,e){return t?Te(Object.create(null),t,e):e}function Dl(t,e){return t?j(t)&&j(e)?[...new Set([...t,...e])]:Te(Object.create(null),Nl(t),Nl(e??{})):e}function lp(t,e){if(!t)return e;if(!e)return t;const n=Te(Object.create(null),t);for(const s in e)n[s]=$e(t[s],e[s]);return n}function ru(){return{app:null,config:{isNativeTag:Qh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ap=0;function cp(t,e){return function(s,i=null){z(s)||(s=Te({},s)),i!=null&&!de(i)&&(i=null);const r=ru(),o=new WeakSet,l=[];let a=!1;const c=r.app={_uid:ap++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Gp,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&z(u.install)?(o.add(u),u.install(c,...f)):z(u)&&(o.add(u),u(c,...f))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,f){return f?(r.components[u]=f,c):r.components[u]},directive(u,f){return f?(r.directives[u]=f,c):r.directives[u]},mount(u,f,h){if(!a){const d=c._ceVNode||we(s,i);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(d,u,h),a=!0,c._container=u,u.__vue_app__=c,nr(d.component)}},onUnmount(u){l.push(u)},unmount(){a&&(ut(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return r.provides[u]=f,c},runWithContext(u){const f=Fn;Fn=c;try{return u()}finally{Fn=f}}};return c}}let Fn=null;function ui(t,e){if(ke){let n=ke.provides;const s=ke.parent&&ke.parent.provides;s===n&&(n=ke.provides=Object.create(s)),n[t]=e}}function Nt(t,e,n=!1){const s=ke||Ge;if(s||Fn){let i=Fn?Fn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&z(e)?e.call(s&&s.proxy):e}}const ou={},lu=()=>Object.create(ou),au=t=>Object.getPrototypeOf(t)===ou;function up(t,e,n,s=!1){const i={},r=lu();t.propsDefaults=Object.create(null),cu(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Bc(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function fp(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=te(i),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(er(t.emitsOptions,h))continue;const d=e[h];if(a)if(oe(r,h))d!==r[h]&&(r[h]=d,c=!0);else{const m=it(h);i[m]=zr(a,l,m,d,t,!1)}else d!==r[h]&&(r[h]=d,c=!0)}}}else{cu(t,e,i,r)&&(c=!0);let u;for(const f in l)(!e||!oe(e,f)&&((u=bn(f))===f||!oe(e,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=zr(a,l,f,void 0,t,!0)):delete i[f]);if(r!==l)for(const f in r)(!e||!oe(e,f))&&(delete r[f],c=!0)}c&&Tt(t.attrs,"set","")}function cu(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(ps(a))continue;const c=e[a];let u;i&&oe(i,u=it(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:er(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=te(n),c=l||he;for(let u=0;u<r.length;u++){const f=r[u];n[f]=zr(i,a,f,c[f],t,!oe(c,f))}}return o}function zr(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=oe(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&z(a)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=zs(i);s=c[n]=a.call(null,e),u()}}else s=a;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===bn(n))&&(s=!0))}return s}const hp=new WeakMap;function uu(t,e,n=!1){const s=n?hp:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let a=!1;if(!z(t)){const u=f=>{a=!0;const[h,d]=uu(f,e,!0);Te(o,h),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return de(t)&&s.set(t,On),On;if(j(r))for(let u=0;u<r.length;u++){const f=it(r[u]);kl(f)&&(o[f]=he)}else if(r)for(const u in r){const f=it(u);if(kl(f)){const h=r[u],d=o[f]=j(h)||z(h)?{type:h}:Te({},h),m=d.type;let v=!1,D=!0;if(j(m))for(let k=0;k<m.length;++k){const A=m[k],B=z(A)&&A.name;if(B==="Boolean"){v=!0;break}else B==="String"&&(D=!1)}else v=z(m)&&m.name==="Boolean";d[0]=v,d[1]=D,(v||oe(d,"default"))&&l.push(f)}}const c=[o,l];return de(t)&&s.set(t,c),c}function kl(t){return t[0]!=="$"&&!ps(t)}const Do=t=>t[0]==="_"||t==="$stable",ko=t=>j(t)?t.map(yt):[yt(t)],dp=(t,e,n)=>{if(e._n)return e;const s=ms((...i)=>ko(e(...i)),n);return s._c=!1,s},fu=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Do(i))continue;const r=t[i];if(z(r))e[i]=dp(i,r,s);else if(r!=null){const o=ko(r);e[i]=()=>o}}},hu=(t,e)=>{const n=ko(e);t.slots.default=()=>n},du=(t,e,n)=>{for(const s in e)(n||!Do(s))&&(t[s]=e[s])},pp=(t,e,n)=>{const s=t.slots=lu();if(t.vnode.shapeFlag&32){const i=e._;i?(du(s,e,n),n&&yc(s,"_",i,!0)):fu(e,s)}else e&&hu(t,e)},_p=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=he;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:du(i,e,n):(r=!e.$stable,fu(e,i)),o=e}else e&&(hu(t,e),o={default:1});if(r)for(const l in i)!Do(l)&&o[l]==null&&delete i[l]},Ze=Ap;function gp(t){return mp(t)}function mp(t,e){const n=Ki();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Ct,insertStaticContent:m}=t,v=(p,_,g,y=null,E=null,b=null,x=void 0,R=null,I=!!_.dynamicChildren)=>{if(p===_)return;p&&!An(p,_)&&(y=C(p),Ue(p,E,b,!0),p=null),_.patchFlag===-2&&(I=!1,_.dynamicChildren=null);const{type:w,ref:G,shapeFlag:O}=_;switch(w){case tr:D(p,_,g,y);break;case kt:k(p,_,g,y);break;case br:p==null&&A(_,g,y,x);break;case Ne:V(p,_,g,y,E,b,x,R,I);break;default:O&1?N(p,_,g,y,E,b,x,R,I):O&6?se(p,_,g,y,E,b,x,R,I):(O&64||O&128)&&w.process(p,_,g,y,E,b,x,R,I,U)}G!=null&&E&&vi(G,p&&p.ref,b,_||p,!_)},D=(p,_,g,y)=>{if(p==null)s(_.el=l(_.children),g,y);else{const E=_.el=p.el;_.children!==p.children&&c(E,_.children)}},k=(p,_,g,y)=>{p==null?s(_.el=a(_.children||""),g,y):_.el=p.el},A=(p,_,g,y)=>{[p.el,p.anchor]=m(p.children,_,g,y,p.el,p.anchor)},B=({el:p,anchor:_},g,y)=>{let E;for(;p&&p!==_;)E=h(p),s(p,g,y),p=E;s(_,g,y)},M=({el:p,anchor:_})=>{let g;for(;p&&p!==_;)g=h(p),i(p),p=g;i(_)},N=(p,_,g,y,E,b,x,R,I)=>{_.type==="svg"?x="svg":_.type==="math"&&(x="mathml"),p==null?H(_,g,y,E,b,x,R,I):$(p,_,E,b,x,R,I)},H=(p,_,g,y,E,b,x,R)=>{let I,w;const{props:G,shapeFlag:O,transition:W,dirs:K}=p;if(I=p.el=o(p.type,b,G&&G.is,G),O&8?u(I,p.children):O&16&&Z(p.children,I,null,y,E,Cr(p,b),x,R),K&&sn(p,null,y,"created"),L(I,p,p.scopeId,x,y),G){for(const _e in G)_e!=="value"&&!ps(_e)&&r(I,_e,null,G[_e],b,y);"value"in G&&r(I,"value",null,G.value,b),(w=G.onVnodeBeforeMount)&&gt(w,y,p)}K&&sn(p,null,y,"beforeMount");const X=vp(E,W);X&&W.beforeEnter(I),s(I,_,g),((w=G&&G.onVnodeMounted)||X||K)&&Ze(()=>{w&&gt(w,y,p),X&&W.enter(I),K&&sn(p,null,y,"mounted")},E)},L=(p,_,g,y,E)=>{if(g&&d(p,g),y)for(let b=0;b<y.length;b++)d(p,y[b]);if(E){let b=E.subTree;if(_===b||yu(b.type)&&(b.ssContent===_||b.ssFallback===_)){const x=E.vnode;L(p,x,x.scopeId,x.slotScopeIds,E.parent)}}},Z=(p,_,g,y,E,b,x,R,I=0)=>{for(let w=I;w<p.length;w++){const G=p[w]=R?qt(p[w]):yt(p[w]);v(null,G,_,g,y,E,b,x,R)}},$=(p,_,g,y,E,b,x)=>{const R=_.el=p.el;let{patchFlag:I,dynamicChildren:w,dirs:G}=_;I|=p.patchFlag&16;const O=p.props||he,W=_.props||he;let K;if(g&&rn(g,!1),(K=W.onVnodeBeforeUpdate)&&gt(K,g,_,p),G&&sn(_,p,g,"beforeUpdate"),g&&rn(g,!0),(O.innerHTML&&W.innerHTML==null||O.textContent&&W.textContent==null)&&u(R,""),w?ee(p.dynamicChildren,w,R,g,y,Cr(_,E),b):x||ie(p,_,R,null,g,y,Cr(_,E),b,!1),I>0){if(I&16)le(R,O,W,g,E);else if(I&2&&O.class!==W.class&&r(R,"class",null,W.class,E),I&4&&r(R,"style",O.style,W.style,E),I&8){const X=_.dynamicProps;for(let _e=0;_e<X.length;_e++){const ae=X[_e],Je=O[ae],We=W[ae];(We!==Je||ae==="value")&&r(R,ae,Je,We,E,g)}}I&1&&p.children!==_.children&&u(R,_.children)}else!x&&w==null&&le(R,O,W,g,E);((K=W.onVnodeUpdated)||G)&&Ze(()=>{K&&gt(K,g,_,p),G&&sn(_,p,g,"updated")},y)},ee=(p,_,g,y,E,b,x)=>{for(let R=0;R<_.length;R++){const I=p[R],w=_[R],G=I.el&&(I.type===Ne||!An(I,w)||I.shapeFlag&198)?f(I.el):g;v(I,w,G,null,y,E,b,x,!0)}},le=(p,_,g,y,E)=>{if(_!==g){if(_!==he)for(const b in _)!ps(b)&&!(b in g)&&r(p,b,_[b],null,E,y);for(const b in g){if(ps(b))continue;const x=g[b],R=_[b];x!==R&&b!=="value"&&r(p,b,R,x,E,y)}"value"in g&&r(p,"value",_.value,g.value,E)}},V=(p,_,g,y,E,b,x,R,I)=>{const w=_.el=p?p.el:l(""),G=_.anchor=p?p.anchor:l("");let{patchFlag:O,dynamicChildren:W,slotScopeIds:K}=_;K&&(R=R?R.concat(K):K),p==null?(s(w,g,y),s(G,g,y),Z(_.children||[],g,G,E,b,x,R,I)):O>0&&O&64&&W&&p.dynamicChildren?(ee(p.dynamicChildren,W,g,E,b,x,R),(_.key!=null||E&&_===E.subTree)&&pu(p,_,!0)):ie(p,_,g,G,E,b,x,R,I)},se=(p,_,g,y,E,b,x,R,I)=>{_.slotScopeIds=R,p==null?_.shapeFlag&512?E.ctx.activate(_,g,y,x,I):Re(_,g,y,E,b,x,I):Qe(p,_,I)},Re=(p,_,g,y,E,b,x)=>{const R=p.component=Fp(p,y,E);if(Qc(p)&&(R.ctx.renderer=U),Vp(R,!1,x),R.asyncDep){if(E&&E.registerDep(R,Ee,x),!p.el){const I=R.subTree=we(kt);k(null,I,_,g)}}else Ee(R,p,_,g,E,b,x)},Qe=(p,_,g)=>{const y=_.component=p.component;if(Rp(p,_,g))if(y.asyncDep&&!y.asyncResolved){ce(y,_,g);return}else y.next=_,y.update();else _.el=p.el,y.vnode=_},Ee=(p,_,g,y,E,b,x)=>{const R=()=>{if(p.isMounted){let{next:O,bu:W,u:K,parent:X,vnode:_e}=p;{const pt=_u(p);if(pt){O&&(O.el=_e.el,ce(p,O,x)),pt.asyncDep.then(()=>{p.isUnmounted||R()});return}}let ae=O,Je;rn(p,!1),O?(O.el=_e.el,ce(p,O,x)):O=_e,W&&ci(W),(Je=O.props&&O.props.onVnodeBeforeUpdate)&&gt(Je,X,O,_e),rn(p,!0);const We=Ll(p),dt=p.subTree;p.subTree=We,v(dt,We,f(dt.el),C(dt),p,E,b),O.el=We.el,ae===null&&xp(p,We.el),K&&Ze(K,E),(Je=O.props&&O.props.onVnodeUpdated)&&Ze(()=>gt(Je,X,O,_e),E)}else{let O;const{el:W,props:K}=_,{bm:X,m:_e,parent:ae,root:Je,type:We}=p,dt=vs(_);rn(p,!1),X&&ci(X),!dt&&(O=K&&K.onVnodeBeforeMount)&&gt(O,ae,_),rn(p,!0);{Je.ce&&Je.ce._injectChildStyle(We);const pt=p.subTree=Ll(p);v(null,pt,g,y,p,E,b),_.el=pt.el}if(_e&&Ze(_e,E),!dt&&(O=K&&K.onVnodeMounted)){const pt=_;Ze(()=>gt(O,ae,pt),E)}(_.shapeFlag&256||ae&&vs(ae.vnode)&&ae.vnode.shapeFlag&256)&&p.a&&Ze(p.a,E),p.isMounted=!0,_=g=y=null}};p.scope.on();const I=p.effect=new Sc(R);p.scope.off();const w=p.update=I.run.bind(I),G=p.job=I.runIfDirty.bind(I);G.i=p,G.id=p.uid,I.scheduler=()=>Oo(G),rn(p,!0),w()},ce=(p,_,g)=>{_.component=p;const y=p.vnode.props;p.vnode=_,p.next=null,fp(p,_.props,y,g),_p(p,_.children,g),Ot(),xl(p),Dt()},ie=(p,_,g,y,E,b,x,R,I=!1)=>{const w=p&&p.children,G=p?p.shapeFlag:0,O=_.children,{patchFlag:W,shapeFlag:K}=_;if(W>0){if(W&128){Ht(w,O,g,y,E,b,x,R,I);return}else if(W&256){Et(w,O,g,y,E,b,x,R,I);return}}K&8?(G&16&&tt(w,E,b),O!==w&&u(g,O)):G&16?K&16?Ht(w,O,g,y,E,b,x,R,I):tt(w,E,b,!0):(G&8&&u(g,""),K&16&&Z(O,g,y,E,b,x,R,I))},Et=(p,_,g,y,E,b,x,R,I)=>{p=p||On,_=_||On;const w=p.length,G=_.length,O=Math.min(w,G);let W;for(W=0;W<O;W++){const K=_[W]=I?qt(_[W]):yt(_[W]);v(p[W],K,g,null,E,b,x,R,I)}w>G?tt(p,E,b,!0,!1,O):Z(_,g,y,E,b,x,R,I,O)},Ht=(p,_,g,y,E,b,x,R,I)=>{let w=0;const G=_.length;let O=p.length-1,W=G-1;for(;w<=O&&w<=W;){const K=p[w],X=_[w]=I?qt(_[w]):yt(_[w]);if(An(K,X))v(K,X,g,null,E,b,x,R,I);else break;w++}for(;w<=O&&w<=W;){const K=p[O],X=_[W]=I?qt(_[W]):yt(_[W]);if(An(K,X))v(K,X,g,null,E,b,x,R,I);else break;O--,W--}if(w>O){if(w<=W){const K=W+1,X=K<G?_[K].el:y;for(;w<=W;)v(null,_[w]=I?qt(_[w]):yt(_[w]),g,X,E,b,x,R,I),w++}}else if(w>W)for(;w<=O;)Ue(p[w],E,b,!0),w++;else{const K=w,X=w,_e=new Map;for(w=X;w<=W;w++){const Xe=_[w]=I?qt(_[w]):yt(_[w]);Xe.key!=null&&_e.set(Xe.key,w)}let ae,Je=0;const We=W-X+1;let dt=!1,pt=0;const ns=new Array(We);for(w=0;w<We;w++)ns[w]=0;for(w=K;w<=O;w++){const Xe=p[w];if(Je>=We){Ue(Xe,E,b,!0);continue}let _t;if(Xe.key!=null)_t=_e.get(Xe.key);else for(ae=X;ae<=W;ae++)if(ns[ae-X]===0&&An(Xe,_[ae])){_t=ae;break}_t===void 0?Ue(Xe,E,b,!0):(ns[_t-X]=w+1,_t>=pt?pt=_t:dt=!0,v(Xe,_[_t],g,null,E,b,x,R,I),Je++)}const El=dt?yp(ns):On;for(ae=El.length-1,w=We-1;w>=0;w--){const Xe=X+w,_t=_[Xe],wl=Xe+1<G?_[Xe+1].el:y;ns[w]===0?v(null,_t,g,wl,E,b,x,R,I):dt&&(ae<0||w!==El[ae]?ht(_t,g,wl,2):ae--)}}},ht=(p,_,g,y,E=null)=>{const{el:b,type:x,transition:R,children:I,shapeFlag:w}=p;if(w&6){ht(p.component.subTree,_,g,y);return}if(w&128){p.suspense.move(_,g,y);return}if(w&64){x.move(p,_,g,U);return}if(x===Ne){s(b,_,g);for(let O=0;O<I.length;O++)ht(I[O],_,g,y);s(p.anchor,_,g);return}if(x===br){B(p,_,g);return}if(y!==2&&w&1&&R)if(y===0)R.beforeEnter(b),s(b,_,g),Ze(()=>R.enter(b),E);else{const{leave:O,delayLeave:W,afterLeave:K}=R,X=()=>{p.ctx.isUnmounted?i(b):s(b,_,g)},_e=()=>{O(b,()=>{X(),K&&K()})};W?W(b,X,_e):_e()}else s(b,_,g)},Ue=(p,_,g,y=!1,E=!1)=>{const{type:b,props:x,ref:R,children:I,dynamicChildren:w,shapeFlag:G,patchFlag:O,dirs:W,cacheIndex:K}=p;if(O===-2&&(E=!1),R!=null&&(Ot(),vi(R,null,g,p,!0),Dt()),K!=null&&(_.renderCache[K]=void 0),G&256){_.ctx.deactivate(p);return}const X=G&1&&W,_e=!vs(p);let ae;if(_e&&(ae=x&&x.onVnodeBeforeUnmount)&&gt(ae,_,p),G&6)ni(p.component,g,y);else{if(G&128){p.suspense.unmount(g,y);return}X&&sn(p,null,_,"beforeUnmount"),G&64?p.type.remove(p,_,g,U,y):w&&!w.hasOnce&&(b!==Ne||O>0&&O&64)?tt(w,_,g,!1,!0):(b===Ne&&O&384||!E&&G&16)&&tt(I,_,g),y&&wn(p)}(_e&&(ae=x&&x.onVnodeUnmounted)||X)&&Ze(()=>{ae&&gt(ae,_,p),X&&sn(p,null,_,"unmounted")},g)},wn=p=>{const{type:_,el:g,anchor:y,transition:E}=p;if(_===Ne){Sn(g,y);return}if(_===br){M(p);return}const b=()=>{i(g),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:x,delayLeave:R}=E,I=()=>x(g,b);R?R(p.el,b,I):I()}else b()},Sn=(p,_)=>{let g;for(;p!==_;)g=h(p),i(p),p=g;i(_)},ni=(p,_,g)=>{const{bum:y,scope:E,job:b,subTree:x,um:R,m:I,a:w,parent:G,slots:{__:O}}=p;Ml(I),Ml(w),y&&ci(y),G&&j(O)&&O.forEach(W=>{G.renderCache[W]=void 0}),E.stop(),b&&(b.flags|=8,Ue(x,p,_,g)),R&&Ze(R,_),Ze(()=>{p.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},tt=(p,_,g,y=!1,E=!1,b=0)=>{for(let x=b;x<p.length;x++)Ue(p[x],_,g,y,E)},C=p=>{if(p.shapeFlag&6)return C(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const _=h(p.anchor||p.el),g=_&&_[$d];return g?h(g):_};let F=!1;const P=(p,_,g)=>{p==null?_._vnode&&Ue(_._vnode,null,null,!0):v(_._vnode||null,p,_,null,null,null,g),_._vnode=p,F||(F=!0,xl(),Gc(),F=!1)},U={p:v,um:Ue,m:ht,r:wn,mt:Re,mc:Z,pc:ie,pbc:ee,n:C,o:t};return{render:P,hydrate:void 0,createApp:cp(P)}}function Cr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function rn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vp(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function pu(t,e,n=!1){const s=t.children,i=e.children;if(j(s)&&j(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=qt(i[r]),l.el=o.el),!n&&l.patchFlag!==-2&&pu(o,l)),l.type===tr&&(l.el=o.el),l.type===kt&&!l.el&&(l.el=o.el)}}function yp(t){const e=t.slice(),n=[0];let s,i,r,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function _u(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:_u(e)}function Ml(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cp=Symbol.for("v-scx"),bp=()=>Nt(Cp);function Bn(t,e,n){return gu(t,e,n)}function gu(t,e,n=he){const{immediate:s,deep:i,flush:r,once:o}=n,l=Te({},n),a=e&&s||!e&&r!=="post";let c;if(ks){if(r==="sync"){const d=bp();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!a){const d=()=>{};return d.stop=Ct,d.resume=Ct,d.pause=Ct,d}}const u=ke;l.call=(d,m,v)=>ut(d,u,m,v);let f=!1;r==="post"?l.scheduler=d=>{Ze(d,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(d,m)=>{m?d():Oo(d)}),l.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=Ld(t,e,l);return ks&&(c?c.push(h):a&&h()),h}function Ep(t,e,n){const s=this.proxy,i=Se(t)?t.includes(".")?mu(s,t):()=>s[t]:t.bind(s,s);let r;z(e)?r=e:(r=e.handler,n=e);const o=zs(this),l=gu(i,r.bind(s),n);return o(),l}function mu(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const wp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${it(e)}Modifiers`]||t[`${bn(e)}Modifiers`];function Sp(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||he;let i=n;const r=e.startsWith("update:"),o=r&&wp(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Se(u)?u.trim():u)),o.number&&(i=n.map(Vr)));let l,a=s[l=pr(e)]||s[l=pr(it(e))];!a&&r&&(a=s[l=pr(bn(e))]),a&&ut(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ut(c,t,6,i)}}function vu(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!z(t)){const a=c=>{const u=vu(c,e,!0);u&&(l=!0,Te(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(de(t)&&s.set(t,null),null):(j(r)?r.forEach(a=>o[a]=null):Te(o,r),de(t)&&s.set(t,o),o)}function er(t,e){return!t||!Wi(e)?!1:(e=e.slice(2).replace(/Once$/,""),oe(t,e[0].toLowerCase()+e.slice(1))||oe(t,bn(e))||oe(t,e))}function Ll(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:m,inheritAttrs:v}=t,D=mi(t);let k,A;try{if(n.shapeFlag&4){const M=i||s,N=M;k=yt(c.call(N,M,u,f,d,h,m)),A=l}else{const M=e;k=yt(M.length>1?M(f,{attrs:l,slots:o,emit:a}):M(f,null)),A=e.props?l:Ip(l)}}catch(M){Cs.length=0,Ji(M,t,1),k=we(kt)}let B=k;if(A&&v!==!1){const M=Object.keys(A),{shapeFlag:N}=B;M.length&&N&7&&(r&&M.some(Eo)&&(A=Tp(A,r)),B=gn(B,A,!1,!0))}return n.dirs&&(B=gn(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&Os(B,n.transition),k=B,mi(D),k}const Ip=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wi(n))&&((e||(e={}))[n]=t[n]);return e},Tp=(t,e)=>{const n={};for(const s in t)(!Eo(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Rp(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Fl(s,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!er(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Fl(s,o,c):!0:!!o;return!1}function Fl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!er(n,r))return!0}return!1}function xp({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const yu=t=>t.__isSuspense;function Ap(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):Vd(t)}const Ne=Symbol.for("v-fgt"),tr=Symbol.for("v-txt"),kt=Symbol.for("v-cmt"),br=Symbol.for("v-stc"),Cs=[];let et=null;function fe(t=!1){Cs.push(et=t?null:[])}function Np(){Cs.pop(),et=Cs[Cs.length-1]||null}let Ds=1;function Bl(t,e=!1){Ds+=t,t<0&&et&&e&&(et.hasOnce=!0)}function Cu(t){return t.dynamicChildren=Ds>0?et||On:null,Np(),Ds>0&&et&&et.push(t),t}function Ce(t,e,n,s,i,r){return Cu(T(t,e,n,s,i,r,!0))}function Mo(t,e,n,s,i){return Cu(we(t,e,n,s,i,!0))}function Ci(t){return t?t.__v_isVNode===!0:!1}function An(t,e){return t.type===e.type&&t.key===e.key}const bu=({key:t})=>t??null,fi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Se(t)||Ve(t)||z(t)?{i:Ge,r:t,k:e,f:!!n}:t:null);function T(t,e=null,n=null,s=0,i=null,r=t===Ne?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bu(e),ref:e&&fi(e),scopeId:Kc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ge};return l?(Lo(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=Se(n)?8:16),Ds>0&&!o&&et&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&et.push(a),a}const we=Pp;function Pp(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===ep)&&(t=kt),Ci(t)){const l=gn(t,e,!0);return n&&Lo(l,n),Ds>0&&!r&&et&&(l.shapeFlag&6?et[et.indexOf(t)]=l:et.push(l)),l.patchFlag=-2,l}if(jp(t)&&(t=t.__vccOpts),e){e=Op(e);let{class:l,style:a}=e;l&&!Se(l)&&(e.class=xt(l)),de(a)&&(Po(a)&&!j(a)&&(a=Te({},a)),e.style=Jn(a))}const o=Se(t)?1:yu(t)?128:Hd(t)?64:de(t)?4:z(t)?2:0;return T(t,e,n,s,i,o,r,!0)}function Op(t){return t?Po(t)||au(t)?Te({},t):t:null}function gn(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:a}=t,c=e?kp(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&bu(c),ref:e&&e.ref?n&&r?j(r)?r.concat(fi(e)):[r,fi(e)]:fi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gn(t.ssContent),ssFallback:t.ssFallback&&gn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&s&&Os(u,a.clone(u)),u}function Dp(t=" ",e=0){return we(tr,null,t,e)}function Eu(t="",e=!1){return e?(fe(),Mo(kt,null,t)):we(kt,null,t)}function yt(t){return t==null||typeof t=="boolean"?we(kt):j(t)?we(Ne,null,t.slice()):Ci(t)?qt(t):we(tr,null,String(t))}function qt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gn(t)}function Lo(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(j(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Lo(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!au(e)?e._ctx=Ge:i===3&&Ge&&(Ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:Ge},n=32):(e=String(e),s&64?(n=16,e=[Dp(e)]):n=8);t.children=e,t.shapeFlag|=n}function kp(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=xt([e.class,s.class]));else if(i==="style")e.style=Jn([e.style,s.style]);else if(Wi(i)){const r=e[i],o=s[i];o&&r!==o&&!(j(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function gt(t,e,n,s=null){ut(t,e,7,[n,s])}const Mp=ru();let Lp=0;function Fp(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Mp,r={uid:Lp++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uu(s,i),emitsOptions:vu(s,i),emit:null,emitted:null,propsDefaults:he,inheritAttrs:s.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Sp.bind(null,r),t.ce&&t.ce(r),r}let ke=null;const Bp=()=>ke||Ge;let bi,Yr;{const t=Ki(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};bi=e("__VUE_INSTANCE_SETTERS__",n=>ke=n),Yr=e("__VUE_SSR_SETTERS__",n=>ks=n)}const zs=t=>{const e=ke;return bi(t),t.scope.on(),()=>{t.scope.off(),bi(e)}},Vl=()=>{ke&&ke.scope.off(),bi(null)};function wu(t){return t.vnode.shapeFlag&4}let ks=!1;function Vp(t,e=!1,n=!1){e&&Yr(e);const{props:s,children:i}=t.vnode,r=wu(t);up(t,s,r,e),pp(t,i,n||e);const o=r?$p(t,e):void 0;return e&&Yr(!1),o}function $p(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,np);const{setup:s}=n;if(s){Ot();const i=t.setupContext=s.length>1?Up(t):null,r=zs(t),o=Ks(s,t,0,[t.props,i]),l=gc(o);if(Dt(),r(),(l||t.sp)&&!vs(t)&&Yc(t),l){if(o.then(Vl,Vl),e)return o.then(a=>{$l(t,a)}).catch(a=>{Ji(a,t,0)});t.asyncDep=o}else $l(t,o)}else Su(t)}function $l(t,e,n){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=Hc(e)),Su(t)}function Su(t,e,n){const s=t.type;t.render||(t.render=s.render||Ct);{const i=zs(t);Ot();try{sp(t)}finally{Dt(),i()}}}const Hp={get(t,e){return Me(t,"get",""),t[e]}};function Up(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Hp),slots:t.slots,emit:t.emit,expose:e}}function nr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Hc(Ad(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ys)return ys[n](t)},has(e,n){return n in e||n in ys}})):t.proxy}function Wp(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function jp(t){return z(t)&&"__vccOpts"in t}const Be=(t,e)=>kd(t,e,ks);function Iu(t,e,n){const s=arguments.length;return s===2?de(e)&&!j(e)?Ci(e)?we(t,null,[e]):we(t,e):we(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ci(n)&&(n=[n]),we(t,e,n))}const Gp="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;const Hl=typeof window<"u"&&window.trustedTypes;if(Hl)try{Qr=Hl.createPolicy("vue",{createHTML:t=>t})}catch{}const Tu=Qr?t=>Qr.createHTML(t):t=>t,qp="http://www.w3.org/2000/svg",Kp="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Ul=It&&It.createElement("template"),zp={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?It.createElementNS(qp,t):e==="mathml"?It.createElementNS(Kp,t):n?It.createElement(t,{is:n}):It.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>It.createTextNode(t),createComment:t=>It.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>It.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Ul.innerHTML=Tu(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Ul.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ut="transition",is="animation",jn=Symbol("_vtc"),Ru={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yp=Te({},Wd,Ru),on=(t,e=[])=>{j(t)?t.forEach(n=>n(...e)):t&&t(...e)},Wl=t=>t?j(t)?t.some(e=>e.length>1):t.length>1:!1;function Qp(t){const e={};for(const V in t)V in Ru||(e[V]=t[V]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:c=o,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=Jp(i),v=m&&m[0],D=m&&m[1],{onBeforeEnter:k,onEnter:A,onEnterCancelled:B,onLeave:M,onLeaveCancelled:N,onBeforeAppear:H=k,onAppear:L=A,onAppearCancelled:Z=B}=e,$=(V,se,Re,Qe)=>{V._enterCancelled=Qe,jt(V,se?u:l),jt(V,se?c:o),Re&&Re()},ee=(V,se)=>{V._isLeaving=!1,jt(V,f),jt(V,d),jt(V,h),se&&se()},le=V=>(se,Re)=>{const Qe=V?L:A,Ee=()=>$(se,V,Re);on(Qe,[se,Ee]),jl(()=>{jt(se,V?a:r),mt(se,V?u:l),Wl(Qe)||Gl(se,s,v,Ee)})};return Te(e,{onBeforeEnter(V){on(k,[V]),mt(V,r),mt(V,o)},onBeforeAppear(V){on(H,[V]),mt(V,a),mt(V,c)},onEnter:le(!1),onAppear:le(!0),onLeave(V,se){V._isLeaving=!0;const Re=()=>ee(V,se);mt(V,f),V._enterCancelled?(mt(V,h),Jr()):(Jr(),mt(V,h)),jl(()=>{V._isLeaving&&(jt(V,f),mt(V,d),Wl(M)||Gl(V,s,D,Re))}),on(M,[V,Re])},onEnterCancelled(V){$(V,!1,void 0,!0),on(B,[V])},onAppearCancelled(V){$(V,!0,void 0,!0),on(Z,[V])},onLeaveCancelled(V){ee(V),on(N,[V])}})}function Jp(t){if(t==null)return null;if(de(t))return[Er(t.enter),Er(t.leave)];{const e=Er(t);return[e,e]}}function Er(t){return td(t)}function mt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jn]||(t[jn]=new Set)).add(e)}function jt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[jn];n&&(n.delete(e),n.size||(t[jn]=void 0))}function jl(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Xp=0;function Gl(t,e,n,s){const i=t._endId=++Xp,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:l,propCount:a}=xu(t,e);if(!o)return s();const c=o+"end";let u=0;const f=()=>{t.removeEventListener(c,h),r()},h=d=>{d.target===t&&++u>=a&&f()};setTimeout(()=>{u<a&&f()},l+1),t.addEventListener(c,h)}function xu(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),i=s(`${Ut}Delay`),r=s(`${Ut}Duration`),o=ql(i,r),l=s(`${is}Delay`),a=s(`${is}Duration`),c=ql(l,a);let u=null,f=0,h=0;e===Ut?o>0&&(u=Ut,f=o,h=r.length):e===is?c>0&&(u=is,f=c,h=a.length):(f=Math.max(o,c),u=f>0?o>c?Ut:is:null,h=u?u===Ut?r.length:a.length:0);const d=u===Ut&&/\b(transform|all)(,|$)/.test(s(`${Ut}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function ql(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Kl(n)+Kl(t[s])))}function Kl(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jr(){return document.body.offsetHeight}function Zp(t,e,n){const s=t[jn];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ei=Symbol("_vod"),Au=Symbol("_vsh"),e_={beforeMount(t,{value:e},{transition:n}){t[Ei]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):rs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),rs(t,!0),s.enter(t)):s.leave(t,()=>{rs(t,!1)}):rs(t,e))},beforeUnmount(t,{value:e}){rs(t,e)}};function rs(t,e){t.style.display=e?t[Ei]:"none",t[Au]=!e}const t_=Symbol(""),n_=/(^|;)\s*display\s*:/;function s_(t,e,n){const s=t.style,i=Se(n);let r=!1;if(n&&!i){if(e)if(Se(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&hi(s,l,"")}else for(const o in e)n[o]==null&&hi(s,o,"");for(const o in n)o==="display"&&(r=!0),hi(s,o,n[o])}else if(i){if(e!==n){const o=s[t_];o&&(n+=";"+o),s.cssText=n,r=n_.test(n)}}else e&&t.removeAttribute("style");Ei in t&&(t[Ei]=r?s.display:"",t[Au]&&(s.display="none"))}const zl=/\s*!important$/;function hi(t,e,n){if(j(n))n.forEach(s=>hi(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=i_(t,e);zl.test(n)?t.setProperty(bn(s),n.replace(zl,""),"important"):t[s]=n}}const Yl=["Webkit","Moz","ms"],wr={};function i_(t,e){const n=wr[e];if(n)return n;let s=it(e);if(s!=="filter"&&s in t)return wr[e]=s;s=qi(s);for(let i=0;i<Yl.length;i++){const r=Yl[i]+s;if(r in t)return wr[e]=r}return e}const Ql="http://www.w3.org/1999/xlink";function Jl(t,e,n,s,i,r=ld(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ql,e.slice(6,e.length)):t.setAttributeNS(Ql,e,n):n==null||r&&!Cc(n)?t.removeAttribute(e):t.setAttribute(e,r?"":bt(n)?String(n):n)}function Xl(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Tu(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Cc(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function fn(t,e,n,s){t.addEventListener(e,n,s)}function r_(t,e,n,s){t.removeEventListener(e,n,s)}const Zl=Symbol("_vei");function o_(t,e,n,s,i=null){const r=t[Zl]||(t[Zl]={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=l_(e);if(s){const c=r[e]=u_(s,i);fn(t,l,c,a)}else o&&(r_(t,l,o,a),r[e]=void 0)}}const ea=/(?:Once|Passive|Capture)$/;function l_(t){let e;if(ea.test(t)){e={};let s;for(;s=t.match(ea);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bn(t.slice(2)),e]}let Sr=0;const a_=Promise.resolve(),c_=()=>Sr||(a_.then(()=>Sr=0),Sr=Date.now());function u_(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ut(f_(s,n.value),e,5,[s])};return n.value=t,n.attached=c_(),n}function f_(t,e){if(j(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const ta=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,h_=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?Zp(t,s,o):e==="style"?s_(t,n,s):Wi(e)?Eo(e)||o_(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):d_(t,e,s,o))?(Xl(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Jl(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Se(s))?Xl(t,it(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Jl(t,e,s,o))};function d_(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&ta(e)&&z(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ta(e)&&Se(n)?!1:e in t}const Nu=new WeakMap,Pu=new WeakMap,wi=Symbol("_moveCb"),na=Symbol("_enterCb"),p_=t=>(delete t.props.mode,t),__=p_({name:"TransitionGroup",props:Te({},Yp,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Bp(),s=Ud();let i,r;return Zc(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!C_(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(m_),i.forEach(v_);const l=i.filter(y_);Jr(),l.forEach(a=>{const c=a.el,u=c.style;mt(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[wi]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[wi]=null,jt(c,o))};c.addEventListener("transitionend",f)}),i=[]}),()=>{const o=te(t),l=Qp(o);let a=o.tag||Ne;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),Os(u,jr(u,l,s,n)),Nu.set(u,u.el.getBoundingClientRect()))}r=e.default?zc(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Os(u,jr(u,l,s,n))}return we(a,null,r)}}}),g_=__;function m_(t){const e=t.el;e[wi]&&e[wi](),e[na]&&e[na]()}function v_(t){Pu.set(t,t.el.getBoundingClientRect())}function y_(t){const e=Nu.get(t),n=Pu.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function C_(t,e,n){const s=t.cloneNode(),i=t[jn];i&&i.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=xu(s);return r.removeChild(s),o}const Si=t=>{const e=t.props["onUpdate:modelValue"]||!1;return j(e)?n=>ci(e,n):e};function b_(t){t.target.composing=!0}function sa(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vn=Symbol("_assign"),os={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Vn]=Si(i);const r=s||i.props&&i.props.type==="number";fn(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=Vr(l)),t[Vn](l)}),n&&fn(t,"change",()=>{t.value=t.value.trim()}),e||(fn(t,"compositionstart",b_),fn(t,"compositionend",sa),fn(t,"change",sa))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Vn]=Si(o),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?Vr(t.value):t.value,a=e??"";l!==a&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===a)||(t.value=a))}},E_={deep:!0,created(t,e,n){t[Vn]=Si(n),fn(t,"change",()=>{const s=t._modelValue,i=w_(t),r=t.checked,o=t[Vn];if(j(s)){const l=bc(s,i),a=l!==-1;if(r&&!a)o(s.concat(i));else if(!r&&a){const c=[...s];c.splice(l,1),o(c)}}else if(ji(s)){const l=new Set(s);r?l.add(i):l.delete(i),o(l)}else o(Ou(t,r))})},mounted:ia,beforeUpdate(t,e,n){t[Vn]=Si(n),ia(t,e,n)}};function ia(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(j(e))i=bc(e,s.props.value)>-1;else if(ji(e))i=e.has(s.props.value);else{if(e===n)return;i=zi(e,Ou(t,!0))}t.checked!==i&&(t.checked=i)}function w_(t){return"_value"in t?t._value:t.value}function Ou(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const S_=["ctrl","shift","alt","meta"],I_={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>S_.some(n=>t[`${n}Key`]&&!e.includes(n))},Du=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<e.length;o++){const l=I_[e[o]];if(l&&l(i,e))return}return t(i,...r)})},T_=Te({patchProp:h_},zp);let ra;function R_(){return ra||(ra=gp(T_))}const x_=(...t)=>{const e=R_().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=N_(s);if(!i)return;const r=e._component;!z(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,A_(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function A_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function N_(t){return Se(t)?document.querySelector(t):t}const P_=Bt({__name:"App",setup(t){return(e,n)=>{const s=nu("router-view");return fe(),Mo(s)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Nn=typeof document<"u";function ku(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function O_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ku(t.default)}const re=Object.assign;function Ir(t,e){const n={};for(const s in e){const i=e[s];n[s]=ft(i)?i.map(t):t(i)}return n}const bs=()=>{},ft=Array.isArray,Mu=/#/g,D_=/&/g,k_=/\//g,M_=/=/g,L_=/\?/g,Lu=/\+/g,F_=/%5B/g,B_=/%5D/g,Fu=/%5E/g,V_=/%60/g,Bu=/%7B/g,$_=/%7C/g,Vu=/%7D/g,H_=/%20/g;function Fo(t){return encodeURI(""+t).replace($_,"|").replace(F_,"[").replace(B_,"]")}function U_(t){return Fo(t).replace(Bu,"{").replace(Vu,"}").replace(Fu,"^")}function Xr(t){return Fo(t).replace(Lu,"%2B").replace(H_,"+").replace(Mu,"%23").replace(D_,"%26").replace(V_,"`").replace(Bu,"{").replace(Vu,"}").replace(Fu,"^")}function W_(t){return Xr(t).replace(M_,"%3D")}function j_(t){return Fo(t).replace(Mu,"%23").replace(L_,"%3F")}function G_(t){return t==null?"":j_(t).replace(k_,"%2F")}function Ms(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const q_=/\/$/,K_=t=>t.replace(q_,"");function Tr(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=J_(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Ms(o)}}function z_(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function oa(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Y_(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Gn(e.matched[s],n.matched[i])&&$u(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function $u(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Q_(t[n],e[n]))return!1;return!0}function Q_(t,e){return ft(t)?la(t,e):ft(e)?la(e,t):t===e}function la(t,e){return ft(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function J_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ls;(function(t){t.pop="pop",t.push="push"})(Ls||(Ls={}));var Es;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Es||(Es={}));function X_(t){if(!t)if(Nn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K_(t)}const Z_=/^[^#]+#/;function eg(t,e){return t.replace(Z_,"#")+e}function tg(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const sr=()=>({left:window.scrollX,top:window.scrollY});function ng(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=tg(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function aa(t,e){return(history.state?history.state.position-e:-1)+t}const Zr=new Map;function sg(t,e){Zr.set(t,e)}function ig(t){const e=Zr.get(t);return Zr.delete(t),e}let rg=()=>location.protocol+"//"+location.host;function Hu(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),oa(a,"")}return oa(n,t)+s+i}function og(t,e,n,s){let i=[],r=[],o=null;const l=({state:h})=>{const d=Hu(t,location),m=n.value,v=e.value;let D=0;if(h){if(n.value=d,e.value=h,o&&o===m){o=null;return}D=v?h.position-v.position:0}else s(d);i.forEach(k=>{k(n.value,m,{delta:D,type:Ls.pop,direction:D?D>0?Es.forward:Es.back:Es.unknown})})};function a(){o=n.value}function c(h){i.push(h);const d=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return r.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(re({},h.state,{scroll:sr()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function ca(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?sr():null}}function lg(t){const{history:e,location:n}=window,s={value:Hu(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:rg()+t+a;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function o(a,c){const u=re({},e.state,ca(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,u,!0),s.value=a}function l(a,c){const u=re({},i.value,e.state,{forward:a,scroll:sr()});r(u.current,u,!0);const f=re({},ca(s.value,a,null),{position:u.position+1},c);r(a,f,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function ag(t){t=X_(t);const e=lg(t),n=og(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=re({location:"",base:t,go:s,createHref:eg.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function cg(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),ag(t)}function ug(t){return typeof t=="string"||t&&typeof t=="object"}function Uu(t){return typeof t=="string"||typeof t=="symbol"}const Wu=Symbol("");var ua;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ua||(ua={}));function qn(t,e){return re(new Error,{type:t,[Wu]:!0},e)}function St(t,e){return t instanceof Error&&Wu in t&&(e==null||!!(t.type&e))}const fa="[^/]+?",fg={sensitive:!1,strict:!1,start:!0,end:!0},hg=/[.+*?^${}()[\]/\\]/g;function dg(t,e){const n=re({},fg,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(hg,"\\$&"),d+=40;else if(h.type===1){const{value:m,repeatable:v,optional:D,regexp:k}=h;r.push({name:m,repeatable:v,optional:D});const A=k||fa;if(A!==fa){d+=10;try{new RegExp(`(${A})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${m}" (${A}): `+M.message)}}let B=v?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(B=D&&c.length<2?`(?:/${B})`:"/"+B),D&&(B+="?"),i+=B,d+=20,D&&(d+=-8),v&&(d+=-20),A===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",m=r[h-1];f[m.name]=d&&m.repeatable?d.split("/"):d}return f}function a(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:v,optional:D}=d,k=m in c?c[m]:"";if(ft(k)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const A=ft(k)?k.join("/"):k;if(!A)if(D)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=A}}return u||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function pg(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ju(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=pg(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(ha(s))return 1;if(ha(i))return-1}return i.length-s.length}function ha(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _g={type:0,value:""},gg=/[a-zA-Z0-9_]/;function mg(t){if(!t)return[[]];if(t==="/")return[[_g]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",u="";function f(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:a==="("?n=2:gg.test(a)?h():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function vg(t,e,n){const s=dg(mg(t.path),n),i=re(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function yg(t,e){const n=[],s=new Map;e=ga({strict:!1,end:!0,sensitive:!1},e);function i(f){return s.get(f)}function r(f,h,d){const m=!d,v=pa(f);v.aliasOf=d&&d.record;const D=ga(e,f),k=[v];if("alias"in f){const M=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of M)k.push(pa(re({},v,{components:d?d.record.components:v.components,path:N,aliasOf:d?d.record:v})))}let A,B;for(const M of k){const{path:N}=M;if(h&&N[0]!=="/"){const H=h.record.path,L=H[H.length-1]==="/"?"":"/";M.path=h.record.path+(N&&L+N)}if(A=vg(M,h,D),d?d.alias.push(A):(B=B||A,B!==A&&B.alias.push(A),m&&f.name&&!_a(A)&&o(f.name)),Gu(A)&&a(A),v.children){const H=v.children;for(let L=0;L<H.length;L++)r(H[L],A,d&&d.children[L])}d=d||A}return B?()=>{o(B)}:bs}function o(f){if(Uu(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return n}function a(f){const h=Eg(f,n);n.splice(h,0,f),f.record.name&&!_a(f)&&s.set(f.record.name,f)}function c(f,h){let d,m={},v,D;if("name"in f&&f.name){if(d=s.get(f.name),!d)throw qn(1,{location:f});D=d.record.name,m=re(da(h.params,d.keys.filter(B=>!B.optional).concat(d.parent?d.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),f.params&&da(f.params,d.keys.map(B=>B.name))),v=d.stringify(m)}else if(f.path!=null)v=f.path,d=n.find(B=>B.re.test(v)),d&&(m=d.parse(v),D=d.record.name);else{if(d=h.name?s.get(h.name):n.find(B=>B.re.test(h.path)),!d)throw qn(1,{location:f,currentLocation:h});D=d.record.name,m=re({},h.params,f.params),v=d.stringify(m)}const k=[];let A=d;for(;A;)k.unshift(A.record),A=A.parent;return{name:D,path:v,params:m,matched:k,meta:bg(k)}}t.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function da(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function pa(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Cg(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Cg(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function _a(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bg(t){return t.reduce((e,n)=>re(e,n.meta),{})}function ga(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Eg(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;ju(t,e[r])<0?s=r:n=r+1}const i=wg(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function wg(t){let e=t;for(;e=e.parent;)if(Gu(e)&&ju(t,e)===0)return e}function Gu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Sg(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(Lu," "),o=r.indexOf("="),l=Ms(o<0?r:r.slice(0,o)),a=o<0?null:Ms(r.slice(o+1));if(l in e){let c=e[l];ft(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function ma(t){let e="";for(let n in t){const s=t[n];if(n=W_(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ft(s)?s.map(r=>r&&Xr(r)):[s&&Xr(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function Ig(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ft(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const Tg=Symbol(""),va=Symbol(""),Bo=Symbol(""),qu=Symbol(""),eo=Symbol("");function ls(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Kt(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=h=>{h===!1?a(qn(4,{from:n,to:e})):h instanceof Error?a(h):ug(h)?a(qn(2,{from:e,to:h})):(o&&s.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),l())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(h=>a(h))})}function Rr(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(ku(a)){const u=(a.__vccOpts||a)[e];u&&r.push(Kt(u,n,s,o,l,i))}else{let c=a();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=O_(u)?u.default:u;o.mods[l]=u,o.components[l]=f;const d=(f.__vccOpts||f)[e];return d&&Kt(d,n,s,o,l,i)()}))}}return r}function ya(t){const e=Nt(Bo),n=Nt(qu),s=Be(()=>{const a=Mn(t.to);return e.resolve(a)}),i=Be(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Gn.bind(null,u));if(h>-1)return h;const d=Ca(a[c-2]);return c>1&&Ca(u)===d&&f[f.length-1].path!==d?f.findIndex(Gn.bind(null,a[c-2])):h}),r=Be(()=>i.value>-1&&Pg(n.params,s.value.params)),o=Be(()=>i.value>-1&&i.value===n.matched.length-1&&$u(n.params,s.value.params));function l(a={}){if(Ng(a)){const c=e[Mn(t.replace)?"replace":"push"](Mn(t.to)).catch(bs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Be(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}function Rg(t){return t.length===1?t[0]:t}const xg=Bt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ya,setup(t,{slots:e}){const n=Qi(ya(t)),{options:s}=Nt(Bo),i=Be(()=>({[ba(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ba(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&Rg(e.default(n));return t.custom?r:Iu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Ag=xg;function Ng(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Pg(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ft(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Ca(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ba=(t,e,n)=>t??e??n,Og=Bt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Nt(eo),i=Be(()=>t.route||s.value),r=Nt(va,0),o=Be(()=>{let c=Mn(r);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=Be(()=>i.value.matched[o.value]);ui(va,Be(()=>o.value+1)),ui(Tg,l),ui(eo,i);const a=Le();return Bn(()=>[a.value,l.value,t.name],([c,u,f],[h,d,m])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Gn(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=l.value,h=f&&f.components[u];if(!h)return Ea(n.default,{Component:h,route:c});const d=f.props[u],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,D=Iu(h,re({},m,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return Ea(n.default,{Component:D,route:c})||D}}});function Ea(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Dg=Og;function kg(t){const e=yg(t.routes,t),n=t.parseQuery||Sg,s=t.stringifyQuery||ma,i=t.history,r=ls(),o=ls(),l=ls(),a=Nd(Wt);let c=Wt;Nn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ir.bind(null,C=>""+C),f=Ir.bind(null,G_),h=Ir.bind(null,Ms);function d(C,F){let P,U;return Uu(C)?(P=e.getRecordMatcher(C),U=F):U=C,e.addRoute(U,P)}function m(C){const F=e.getRecordMatcher(C);F&&e.removeRoute(F)}function v(){return e.getRoutes().map(C=>C.record)}function D(C){return!!e.getRecordMatcher(C)}function k(C,F){if(F=re({},F||a.value),typeof C=="string"){const g=Tr(n,C,F.path),y=e.resolve({path:g.path},F),E=i.createHref(g.fullPath);return re(g,y,{params:h(y.params),hash:Ms(g.hash),redirectedFrom:void 0,href:E})}let P;if(C.path!=null)P=re({},C,{path:Tr(n,C.path,F.path).path});else{const g=re({},C.params);for(const y in g)g[y]==null&&delete g[y];P=re({},C,{params:f(g)}),F.params=f(F.params)}const U=e.resolve(P,F),ue=C.hash||"";U.params=u(h(U.params));const p=z_(s,re({},C,{hash:U_(ue),path:U.path})),_=i.createHref(p);return re({fullPath:p,hash:ue,query:s===ma?Ig(C.query):C.query||{}},U,{redirectedFrom:void 0,href:_})}function A(C){return typeof C=="string"?Tr(n,C,a.value.path):re({},C)}function B(C,F){if(c!==C)return qn(8,{from:F,to:C})}function M(C){return L(C)}function N(C){return M(re(A(C),{replace:!0}))}function H(C){const F=C.matched[C.matched.length-1];if(F&&F.redirect){const{redirect:P}=F;let U=typeof P=="function"?P(C):P;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=A(U):{path:U},U.params={}),re({query:C.query,hash:C.hash,params:U.path!=null?{}:C.params},U)}}function L(C,F){const P=c=k(C),U=a.value,ue=C.state,p=C.force,_=C.replace===!0,g=H(P);if(g)return L(re(A(g),{state:typeof g=="object"?re({},ue,g.state):ue,force:p,replace:_}),F||P);const y=P;y.redirectedFrom=F;let E;return!p&&Y_(s,U,P)&&(E=qn(16,{to:y,from:U}),ht(U,U,!0,!1)),(E?Promise.resolve(E):ee(y,U)).catch(b=>St(b)?St(b,2)?b:Ht(b):ie(b,y,U)).then(b=>{if(b){if(St(b,2))return L(re({replace:_},A(b.to),{state:typeof b.to=="object"?re({},ue,b.to.state):ue,force:p}),F||y)}else b=V(y,U,!0,_,ue);return le(y,U,b),b})}function Z(C,F){const P=B(C,F);return P?Promise.reject(P):Promise.resolve()}function $(C){const F=Sn.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(C):C()}function ee(C,F){let P;const[U,ue,p]=Mg(C,F);P=Rr(U.reverse(),"beforeRouteLeave",C,F);for(const g of U)g.leaveGuards.forEach(y=>{P.push(Kt(y,C,F))});const _=Z.bind(null,C,F);return P.push(_),tt(P).then(()=>{P=[];for(const g of r.list())P.push(Kt(g,C,F));return P.push(_),tt(P)}).then(()=>{P=Rr(ue,"beforeRouteUpdate",C,F);for(const g of ue)g.updateGuards.forEach(y=>{P.push(Kt(y,C,F))});return P.push(_),tt(P)}).then(()=>{P=[];for(const g of p)if(g.beforeEnter)if(ft(g.beforeEnter))for(const y of g.beforeEnter)P.push(Kt(y,C,F));else P.push(Kt(g.beforeEnter,C,F));return P.push(_),tt(P)}).then(()=>(C.matched.forEach(g=>g.enterCallbacks={}),P=Rr(p,"beforeRouteEnter",C,F,$),P.push(_),tt(P))).then(()=>{P=[];for(const g of o.list())P.push(Kt(g,C,F));return P.push(_),tt(P)}).catch(g=>St(g,8)?g:Promise.reject(g))}function le(C,F,P){l.list().forEach(U=>$(()=>U(C,F,P)))}function V(C,F,P,U,ue){const p=B(C,F);if(p)return p;const _=F===Wt,g=Nn?history.state:{};P&&(U||_?i.replace(C.fullPath,re({scroll:_&&g&&g.scroll},ue)):i.push(C.fullPath,ue)),a.value=C,ht(C,F,P,_),Ht()}let se;function Re(){se||(se=i.listen((C,F,P)=>{if(!ni.listening)return;const U=k(C),ue=H(U);if(ue){L(re(ue,{replace:!0,force:!0}),U).catch(bs);return}c=U;const p=a.value;Nn&&sg(aa(p.fullPath,P.delta),sr()),ee(U,p).catch(_=>St(_,12)?_:St(_,2)?(L(re(A(_.to),{force:!0}),U).then(g=>{St(g,20)&&!P.delta&&P.type===Ls.pop&&i.go(-1,!1)}).catch(bs),Promise.reject()):(P.delta&&i.go(-P.delta,!1),ie(_,U,p))).then(_=>{_=_||V(U,p,!1),_&&(P.delta&&!St(_,8)?i.go(-P.delta,!1):P.type===Ls.pop&&St(_,20)&&i.go(-1,!1)),le(U,p,_)}).catch(bs)}))}let Qe=ls(),Ee=ls(),ce;function ie(C,F,P){Ht(C);const U=Ee.list();return U.length?U.forEach(ue=>ue(C,F,P)):console.error(C),Promise.reject(C)}function Et(){return ce&&a.value!==Wt?Promise.resolve():new Promise((C,F)=>{Qe.add([C,F])})}function Ht(C){return ce||(ce=!C,Re(),Qe.list().forEach(([F,P])=>C?P(C):F()),Qe.reset()),C}function ht(C,F,P,U){const{scrollBehavior:ue}=t;if(!Nn||!ue)return Promise.resolve();const p=!P&&ig(aa(C.fullPath,0))||(U||!P)&&history.state&&history.state.scroll||null;return Wc().then(()=>ue(C,F,p)).then(_=>_&&ng(_)).catch(_=>ie(_,C,F))}const Ue=C=>i.go(C);let wn;const Sn=new Set,ni={currentRoute:a,listening:!0,addRoute:d,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:v,resolve:k,options:t,push:M,replace:N,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:Ee.add,isReady:Et,install(C){const F=this;C.component("RouterLink",Ag),C.component("RouterView",Dg),C.config.globalProperties.$router=F,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>Mn(a)}),Nn&&!wn&&a.value===Wt&&(wn=!0,M(i.location).catch(ue=>{}));const P={};for(const ue in Wt)Object.defineProperty(P,ue,{get:()=>a.value[ue],enumerable:!0});C.provide(Bo,F),C.provide(qu,Bc(P)),C.provide(eo,a);const U=C.unmount;Sn.add(C),C.unmount=function(){Sn.delete(C),Sn.size<1&&(c=Wt,se&&se(),se=null,a.value=Wt,wn=!1,ce=!1),U()}}};function tt(C){return C.reduce((F,P)=>F.then(()=>$(P)),Promise.resolve())}return ni}function Mg(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(c=>Gn(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>Gn(c,a))||i.push(a))}return[n,s,i]}const Ku="/imageViewer/assets/01-DPVgT_od.png",zu="/imageViewer/assets/02-CBNs6ilE.png",Yu="/imageViewer/assets/01-DPVgT_od.png",Qu="/imageViewer/assets/02-CBNs6ilE.png",Ju="/imageViewer/assets/01-DPVgT_od.png",Xu="/imageViewer/assets/02-CBNs6ilE.png",Zu="/imageViewer/assets/01-DPVgT_od.png",ef="/imageViewer/assets/02-CBNs6ilE.png",tf="/imageViewer/assets/01-DPVgT_od.png",nf="/imageViewer/assets/02-CBNs6ilE.png",sf="/imageViewer/assets/01-DPVgT_od.png",rf="/imageViewer/assets/02-CBNs6ilE.png",of="/imageViewer/assets/01-DPVgT_od.png",lf="/imageViewer/assets/02-CBNs6ilE.png",af="/imageViewer/assets/01-DPVgT_od.png",cf="/imageViewer/assets/02-CBNs6ilE.png",uf="/imageViewer/assets/01-DPVgT_od.png",ff="/imageViewer/assets/02-CBNs6ilE.png",hf="/imageViewer/assets/01-DPVgT_od.png",df="/imageViewer/assets/02-CBNs6ilE.png",pf="/imageViewer/assets/01-DPVgT_od.png",_f="/imageViewer/assets/02-CBNs6ilE.png",gf="/imageViewer/assets/01-DPVgT_od.png",mf="/imageViewer/assets/02-CBNs6ilE.png",Lg={class:"grid-container"},Fg=["onClick"],Bg=Bt({__name:"ImageGrid",setup(t){const e=Le([]),n=Le([]);Xc(()=>{const i=[];for(let r=1;r<=20;r++){const o=r.toString().padStart(2,"0")+".png",l=new URL(Object.assign({"../assets/images/card/01.png":Ku,"../assets/images/card/02.png":zu,"../assets/images/card/03.png":Yu,"../assets/images/card/04.png":Qu,"../assets/images/card/05.png":Ju,"../assets/images/card/06.png":Xu,"../assets/images/card/07.png":Zu,"../assets/images/card/08.png":ef,"../assets/images/card/09.png":tf,"../assets/images/card/10.png":nf,"../assets/images/card/11.png":sf,"../assets/images/card/12.png":rf,"../assets/images/card/13.png":of,"../assets/images/card/14.png":lf,"../assets/images/card/15.png":af,"../assets/images/card/16.png":cf,"../assets/images/card/17.png":uf,"../assets/images/card/18.png":ff,"../assets/images/card/19.png":hf,"../assets/images/card/20.png":df,"../assets/images/card/21.png":pf,"../assets/images/card/22.png":_f,"../assets/images/card/23.png":gf,"../assets/images/card/24.png":mf})[`../assets/images/card/${o}`],import.meta.url).href;i.push(l)}e.value=i,n.value=Array(i.length).fill(!1)});function s(i){n.value[i]=!n.value[i]}return(i,r)=>(fe(),Ce("div",Lg,[(fe(!0),Ce(Ne,null,_n(e.value,(o,l)=>(fe(),Ce("div",{key:l,class:"grid-item",style:Jn({backgroundImage:`url(${o})`,filter:n.value[l]?"brightness(100%)":"brightness(50%)"}),onClick:a=>s(l)},null,12,Fg))),128))]))}}),tn=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Vg=tn(Bg,[["__scopeId","data-v-a9fbd778"]]),$g={class:"container"},Hg={__name:"IV0001",setup(t){return(e,n)=>(fe(),Ce("div",$g,[we(Vg)]))}},Ug=tn(Hg,[["__scopeId","data-v-0adaf485"]]),Wg="/imageViewer/assets/setting-DoZuKjkl.png",jg=()=>{};var wa={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw Xn(e)},Xn=function(t){return new Error("Firebase Database ("+vf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gg=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Vo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=r>>2,f=(r&3)<<4|l>>4;let h=(l&15)<<2|c>>6,d=c&63;a||(d=64,o||(h=64)),s.push(n[u],n[f],n[h],n[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yf(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gg(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||c==null||f==null)throw new qg;const h=r<<2|l>>4;if(s.push(h),c!==64){const d=l<<4&240|c>>2;if(s.push(d),f!==64){const m=c<<6&192|f;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cf=function(t){const e=yf(t);return Vo.encodeByteArray(e,!0)},Ii=function(t){return Cf(t).replace(/\./g,"")},to=function(t){try{return Vo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return bf(void 0,t)}function bf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zg(n)||(t[n]=bf(t[n],e[n]));return t}function zg(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=()=>Yg().__FIREBASE_DEFAULTS__,Jg=()=>{if(typeof process>"u"||typeof wa>"u")return;const t=wa.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xg=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&to(t[1]);return e&&JSON.parse(e)},Ef=()=>{try{return jg()||Qg()||Jg()||Xg()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zg=t=>{var e,n;return(n=(e=Ef())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},em=t=>{const e=Zg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wf=()=>{var t;return(t=Ef())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ii(JSON.stringify(n)),Ii(JSON.stringify(o)),""].join(".")}const ws={};function sm(){const t={prod:[],emulator:[]};for(const e of Object.keys(ws))ws[e]?t.emulator.push(e):t.prod.push(e);return t}function im(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sa=!1;function rm(t,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||ws[t]===e||ws[t]||Sa)return;ws[t]=e;function n(h){return`__firebase__banner__${h}`}const s="__firebase__banner",r=sm().prod.length>0;function o(){const h=document.getElementById(s);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function a(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Sa=!0,o()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=im(s),d=n("text"),m=document.getElementById(d)||document.createElement("span"),v=n("learnmore"),D=document.getElementById(v)||document.createElement("a"),k=n("preprendIcon"),A=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const B=h.element;l(B),u(D,v);const M=c();a(A,k),B.append(A,m,D,M),document.body.appendChild(B)}r?(m.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(om())}function lm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function am(){return vf.NODE_ADMIN===!0}function cm(){try{return typeof indexedDB=="object"}catch{return!1}}function um(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fm,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?hm(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ys(i,l,s)}}function hm(t,e){return t.replace(dm,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const dm=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=function(t){let e={},n={},s={},i="";try{const r=t.split(".");e=Fs(to(r[0])||""),n=Fs(to(r[1])||""),i=r[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},pm=function(t){const e=Tf(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_m=function(t){const e=Tf(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ia(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Ta(r)&&Ta(o)){if(!Ri(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Ta(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)s[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)s[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=s[f-3]^s[f-8]^s[f-14]^s[f-16];s[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let f=0;f<80;f++){f<40?f<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):f<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const h=(i<<5|i>>>27)+c+a+u+s[f]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const r=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(r[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<n;)if(r[o]=e[i],++o,++i,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[i]>>r&255,++s;return e}}function Ho(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const r=i-55296;s++,S(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;i=65536+(r<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rr=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ir;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bm(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=cn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cn){return this.instances.has(e)}getOptions(e=cn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Cm(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=cn){return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cm(t){return t===cn?void 0:t}function bm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ym(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const wm={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Sm=me.INFO,Im={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Tm=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Im[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rf{constructor(e){this.name=e,this._logLevel=Sm,this._logHandler=Tm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const Rm=(t,e)=>e.some(n=>t instanceof n);let Ra,xa;function xm(){return Ra||(Ra=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Am(){return xa||(xa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xf=new WeakMap,no=new WeakMap,Af=new WeakMap,xr=new WeakMap,Uo=new WeakMap;function Nm(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Yt(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xf.set(n,t)}).catch(()=>{}),Uo.set(e,t),e}function Pm(t){if(no.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});no.set(t,e)}let so={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return no.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Af.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Om(t){so=t(so)}function Dm(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ar(this),e,...n);return Af.set(s,e.sort?e.sort():[e]),Yt(s)}:Am().includes(t)?function(...e){return t.apply(Ar(this),e),Yt(xf.get(this))}:function(...e){return Yt(t.apply(Ar(this),e))}}function km(t){return typeof t=="function"?Dm(t):(t instanceof IDBTransaction&&Pm(t),Rm(t,xm())?new Proxy(t,so):t)}function Yt(t){if(t instanceof IDBRequest)return Nm(t);if(xr.has(t))return xr.get(t);const e=km(t);return e!==t&&(xr.set(t,e),Uo.set(e,t)),e}const Ar=t=>Uo.get(t);function Mm(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Yt(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Yt(o.result),a.oldVersion,a.newVersion,Yt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Lm=["get","getKey","getAll","getAllKeys","count"],Fm=["put","add","delete","clear"],Nr=new Map;function Aa(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nr.get(e))return Nr.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Fm.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Lm.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return Nr.set(e,r),r}Om(t=>({...t,get:(e,n,s)=>Aa(e,n)||t.get(e,n,s),has:(e,n)=>!!Aa(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vm(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Vm(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const io="@firebase/app",Na="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=new Rf("@firebase/app"),$m="@firebase/app-compat",Hm="@firebase/analytics-compat",Um="@firebase/analytics",Wm="@firebase/app-check-compat",jm="@firebase/app-check",Gm="@firebase/auth",qm="@firebase/auth-compat",Km="@firebase/database",zm="@firebase/data-connect",Ym="@firebase/database-compat",Qm="@firebase/functions",Jm="@firebase/functions-compat",Xm="@firebase/installations",Zm="@firebase/installations-compat",ev="@firebase/messaging",tv="@firebase/messaging-compat",nv="@firebase/performance",sv="@firebase/performance-compat",iv="@firebase/remote-config",rv="@firebase/remote-config-compat",ov="@firebase/storage",lv="@firebase/storage-compat",av="@firebase/firestore",cv="@firebase/ai",uv="@firebase/firestore-compat",fv="firebase",hv="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]",dv={[io]:"fire-core",[$m]:"fire-core-compat",[Um]:"fire-analytics",[Hm]:"fire-analytics-compat",[jm]:"fire-app-check",[Wm]:"fire-app-check-compat",[Gm]:"fire-auth",[qm]:"fire-auth-compat",[Km]:"fire-rtdb",[zm]:"fire-data-connect",[Ym]:"fire-rtdb-compat",[Qm]:"fire-fn",[Jm]:"fire-fn-compat",[Xm]:"fire-iid",[Zm]:"fire-iid-compat",[ev]:"fire-fcm",[tv]:"fire-fcm-compat",[nv]:"fire-perf",[sv]:"fire-perf-compat",[iv]:"fire-rc",[rv]:"fire-rc-compat",[ov]:"fire-gcs",[lv]:"fire-gcs-compat",[av]:"fire-fst",[uv]:"fire-fst-compat",[cv]:"fire-vertex","fire-js":"fire-js",[fv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Map,pv=new Map,oo=new Map;function Pa(t,e){try{t.container.addComponent(e)}catch(n){Mt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ai(t){const e=t.name;if(oo.has(e))return Mt.debug(`There were multiple attempts to register component ${e}.`),!1;oo.set(e,t);for(const n of xi.values())Pa(n,t);for(const n of pv.values())Pa(n,t);return!0}function _v(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gv(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qt=new If("app","Firebase",mv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=hv;function Nf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ro,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw Qt.create("bad-app-name",{appName:String(i)});if(n||(n=wf()),!n)throw Qt.create("no-options");const r=xi.get(i);if(r){if(Ri(n,r.options)&&Ri(s,r.config))return r;throw Qt.create("duplicate-app",{appName:i})}const o=new Em(i);for(const a of oo.values())o.addComponent(a);const l=new vv(n,s,o);return xi.set(i,l),l}function Cv(t=ro){const e=xi.get(t);if(!e&&t===ro&&wf())return Nf();if(!e)throw Qt.create("no-app",{appName:t});return e}function $n(t,e,n){let s=dv[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mt.warn(o.join(" "));return}Ai(new Bs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="firebase-heartbeat-database",Ev=1,Vs="firebase-heartbeat-store";let Pr=null;function Pf(){return Pr||(Pr=Mm(bv,Ev,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qt.create("idb-open",{originalErrorMessage:t.message})})),Pr}async function wv(t){try{const n=(await Pf()).transaction(Vs),s=await n.objectStore(Vs).get(Of(t));return await n.done,s}catch(e){if(e instanceof Ys)Mt.warn(e.message);else{const n=Qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mt.warn(n.message)}}}async function Oa(t,e){try{const s=(await Pf()).transaction(Vs,"readwrite");await s.objectStore(Vs).put(e,Of(t)),await s.done}catch(n){if(n instanceof Ys)Mt.warn(n.message);else{const s=Qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mt.warn(s.message)}}}function Of(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=1024,Iv=30;class Tv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Da();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Iv){const o=Av(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mt.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Da(),{heartbeatsToSend:s,unsentEntries:i}=Rv(this._heartbeatsCache.heartbeats),r=Ii(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Mt.warn(n),""}}}function Da(){return new Date().toISOString().substring(0,10)}function Rv(t,e=Sv){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),ka(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ka(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cm()?um().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ka(t){return Ii(JSON.stringify({version:2,heartbeats:t})).length}function Av(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){Ai(new Bs("platform-logger",e=>new Bm(e),"PRIVATE")),Ai(new Bs("heartbeat",e=>new Tv(e),"PRIVATE")),$n(io,Na,t),$n(io,Na,"esm2020"),$n("fire-js","")}Nv("");var Pv="firebase",Ov="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(Pv,Ov,"app");var Ma={};const La="@firebase/database",Fa="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df="";function Dv(t){Df=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kv(e)}}catch{}return new Mv},hn=kf("localStorage"),Lv=kf("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Rf("@firebase/database"),Fv=function(){let t=1;return function(){return t++}}(),Mf=function(t){const e=vm(t),n=new mm;n.update(e);const s=n.digest();return Vo.encodeByteArray(s)},Js=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Js.apply(null,s):typeof s=="object"?e+=Pe(s):e+=s,e+=" "}return e};let Ss=null,Ba=!0;const Bv=function(t,e){S(!0,"Can't turn on custom loggers persistently."),Hn.logLevel=me.VERBOSE,Ss=Hn.log.bind(Hn)},Fe=function(...t){if(Ba===!0&&(Ba=!1,Ss===null&&Lv.get("logging_enabled")===!0&&Bv()),Ss){const e=Js.apply(null,t);Ss(e)}},Xs=function(t){return function(...e){Fe(t,...e)}},lo=function(...t){const e="FIREBASE INTERNAL ERROR: "+Js(...t);Hn.error(e)},Lt=function(...t){const e=`FIREBASE FATAL ERROR: ${Js(...t)}`;throw Hn.error(e),new Error(e)},ze=function(...t){const e="FIREBASE WARNING: "+Js(...t);Hn.warn(e)},Vv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ze("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$v=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zn="[MIN_NAME]",mn="[MAX_NAME]",Zn=function(t,e){if(t===e)return 0;if(t===zn||e===mn)return-1;if(e===zn||t===mn)return 1;{const n=Va(t),s=Va(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},Hv=function(t,e){return t===e?0:t<e?-1:1},as=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},Wo=function(t){if(typeof t!="object"||t===null)return Pe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Pe(e[s]),n+=":",n+=Wo(t[e[s]]);return n+="}",n},Ff=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Bf=function(t){S(!Lf(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,r,o,l,a;t===0?(r=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),r=l+s,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(i?1:0),c.reverse();const u=c.join("");let f="";for(a=0;a<64;a+=8){let h=parseInt(u.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Uv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Wv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jv(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Gv=new RegExp("^-?(0*)\\d{1,10}$"),qv=-2147483648,Kv=2147483647,Va=function(t){if(Gv.test(t)){const e=Number(t);if(e>=qv&&e<=Kv)return e}return null},es=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ze("Exception was thrown by user callback.",n),e},Math.floor(0))}},zv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Is=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,gv(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){ze(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ze(e)}}class di{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}di.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="5",Vf="v",$f="s",Hf="r",Uf="f",Wf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jf="ls",Gf="p",ao="ac",qf="websocket",Kf="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,s,i,r=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Jv(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Yf(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let s;if(e===qf)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Kf)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jv(t)&&(n.ns=t.namespace);const i=[];return Ye(n,(r,o)=>{i.push(r+"="+o)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.counters_={}}incrementCounter(e,n=1){$t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Kg(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={},Dr={};function Go(t){const e=t.toString();return Or[e]||(Or[e]=new Xv),Or[e]}function Zv(t,e){const n=t.toString();return Dr[n]||(Dr[n]=e()),Dr[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&es(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="start",ty="close",ny="pLPCommand",sy="pRTLPCB",Qf="id",Jf="pw",Xf="ser",iy="cb",ry="seg",oy="ts",ly="d",ay="dframe",Zf=1870,eh=30,cy=Zf-eh,uy=25e3,fy=3e4;class Pn{constructor(e,n,s,i,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xs(e),this.stats_=Go(n),this.urlFn=a=>(this.appCheckToken&&(a[ao]=this.appCheckToken),Yf(n,Kf,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ey(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fy)),$v(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qo((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$a)this.id=l,this.password=a;else if(o===ty)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[$a]="t",s[Xf]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[iy]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Vf]=jo,this.transportSessionId&&(s[$f]=this.transportSessionId),this.lastSessionId&&(s[jf]=this.lastSessionId),this.applicationId&&(s[Gf]=this.applicationId),this.appCheckToken&&(s[ao]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wf.test(location.hostname)&&(s[Hf]=Uf);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pn.forceAllow_=!0}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){return Pn.forceAllow_?!0:!Pn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uv()&&!Wv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Cf(n),i=Ff(s,cy);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[ay]="t",s[Qf]=e,s[Jf]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qo{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fv(),window[ny+this.uniqueCallbackIdentifier]=e,window[sy+this.uniqueCallbackIdentifier]=n,this.myIFrame=qo.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Fe("frame writing exception"),l.stack&&Fe(l.stack),Fe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Qf]=this.myID,e[Jf]=this.myPW,e[Xf]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+eh+s.length<=Zf;){const o=this.pendingSegs.shift();s=s+"&"+ry+i+"="+o.seg+"&"+oy+i+"="+o.ts+"&"+ly+i+"="+o.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(uy)),r=()=>{clearTimeout(i),s()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=16384,dy=45e3;let Ni=null;typeof MozWebSocket<"u"?Ni=MozWebSocket:typeof WebSocket<"u"&&(Ni=WebSocket);class rt{constructor(e,n,s,i,r,o,l){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xs(this.connId),this.stats_=Go(n),this.connURL=rt.connectionURL_(n,o,l,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,r){const o={};return o[Vf]=jo,typeof location<"u"&&location.hostname&&Wf.test(location.hostname)&&(o[Hf]=Uf),n&&(o[$f]=n),s&&(o[jf]=s),i&&(o[ao]=i),r&&(o[Gf]=r),Yf(e,qf,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hn.set("previous_websocket_failure",!0);try{let s;am(),this.mySock=new Ni(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Ni!==null&&!rt.forceDisallow_}static previouslyFailed(){return hn.isInMemoryStorage||hn.get("previous_websocket_failure")===!0}markConnectionHealthy(){hn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Fs(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ff(n,hy);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dy))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rt.responsesRequiredToBeHealthy=2;rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{static get ALL_TRANSPORTS(){return[Pn,rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=rt&&rt.isAvailable();let s=n&&!rt.previouslyFailed();if(e.webSocketOnly&&(n||ze("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[rt];else{const i=this.transports_=[];for(const r of $s.ALL_TRANSPORTS)r&&r.isAvailable()&&i.push(r);$s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$s.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=6e4,_y=5e3,gy=10*1024,my=100*1024,kr="t",Ha="d",vy="s",Ua="r",yy="e",Wa="o",ja="a",Ga="n",qa="p",Cy="h";class by{constructor(e,n,s,i,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xs("c:"+this.id+":"),this.transportManager_=new $s(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>my?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gy?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kr in e){const n=e[kr];n===ja?this.upgradeIfSecondaryHealthy_():n===Ua?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wa&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=as("t",e),s=as("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qa,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ja,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ga,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=as("t",e),s=as("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=as(kr,e);if(Ha in e){const s=e[Ha];if(n===Cy){const i={...s};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ga){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vy?this.onConnectionShutdown_(s):n===Ua?this.onReset_(s):n===yy?lo("Server Error: "+s):n===Wa?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lo("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jo!==s&&ze("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(py))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_y))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qa,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===n&&(!s||s===i[r].context)){i.splice(r,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends nh{static getInstance(){return new Pi}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Sf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=32,za=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ne(){return new pe("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zt(t){return t.pieces_.length-t.pieceNum_}function ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function sh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ey(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ih(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rh(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Ie(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof pe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new pe(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function qe(t,e){const n=Y(t),s=Y(e);if(n===null)return e;if(n===s)return qe(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ko(t,e){if(Zt(t)!==Zt(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function ot(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Zt(t)>Zt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class wy{constructor(e,n){this.errorPrefix_=n,this.parts_=ih(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=rr(this.parts_[s]);oh(this)}}function Sy(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rr(e),oh(t)}function Iy(t){const e=t.parts_.pop();t.byteLength_-=rr(e),t.parts_.length>0&&(t.byteLength_-=1)}function oh(t){if(t.byteLength_>za)throw new Error(t.errorPrefix_+"has a key path longer than "+za+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ka)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ka+") or object contains a cycle "+un(t))}function un(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends nh{static getInstance(){return new zo}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=1e3,Ty=60*5*1e3,Ya=30*1e3,Ry=1.3,xy=3e4,Ay="server_kill",Qa=3;class Pt extends th{constructor(e,n,s,i,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Pt.nextPersistentConnectionId_++,this.log_=Xs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cs,this.maxReconnectDelay_=Ty,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zo.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pi.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,r={r:i,a:e,b:n};this.log_(Pe(r)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new ir,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,s,i){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const r={p:s},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;Pt.warnOnListenWarnings_(a,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$t(e,"w")){const s=Kn(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();ze(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_m(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ya)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=pm(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const r=i.s,o=i.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";i&&(r.q=s,r.t=i),this.sendRequest(o,r)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const r={p:n,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,r){this.initConnection_();const o={p:n,d:s};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):lo("Unrecognized action received from server: "+Pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xy&&(this.reconnectDelay_=cs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ry)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Pt.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,s())},c=function(f){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new by(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,d=>{ze(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ay)},r))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&ze(f),a())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ia(this.interruptReasons_)&&(this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(r=>Wo(r)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new pe(e).toString();let i;if(this.listens.has(s)){const r=this.listens.get(s);i=r.get(n),r.delete(n),r.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qa&&(this.reconnectDelay_=Ya,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qa&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Df.replace(/\./g,"-")]=1,Sf()?e["framework.cordova"]=1:lm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pi.getInstance().currentlyOnline();return Ia(this.interruptReasons_)&&e}}Pt.nextPersistentConnectionId_=0;Pt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Q(zn,e),i=new Q(zn,n);return this.compare(s,i)!==0}minPost(){return Q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li;class lh extends or{static get __EMPTY_NODE(){return li}static set __EMPTY_NODE(e){li=e}compare(e,n){return Zn(e.name,n.name)}isDefinedOn(e){throw Xn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(mn,li)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,li)}toString(){return".key"}}const Un=new lh;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,s,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??Ae.RED,this.left=i??Ke.EMPTY_NODE,this.right=r??Ke.EMPTY_NODE}copy(e,n,s,i,r){return new Ae(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return r<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ke.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Ke.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class Ny{copy(e,n,s,i,r){return this}insert(e,n,s){return new Ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ke{constructor(e,n=Ke.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ke(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new Ke(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ai(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ai(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ai(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ai(this.root_,null,this.comparator_,!0,e)}}Ke.EMPTY_NODE=new Ny;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){return Zn(t.name,e.name)}function Yo(t,e){return Zn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;function Oy(t){co=t}const ah=function(t){return typeof t=="number"?"number:"+Bf(t):"string:"+t},ch=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$t(e,".sv"),"Priority must be a string or number.")}else S(t===co||t.isEmpty(),"priority of unexpected type.");S(t===co||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja;class xe{static set __childrenNodeConstructor(e){Ja=e}static get __childrenNodeConstructor(){return Ja}constructor(e,n=xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ch(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return J(e)?this:Y(e)===".priority"?this.priorityNode_:xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Y(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(S(s!==".priority"||Zt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ah(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Bf(this.value_):e+=this.value_,this.lazyHash_=Mf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xe.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=xe.VALUE_TYPE_ORDER.indexOf(n),r=xe.VALUE_TYPE_ORDER.indexOf(s);return S(i>=0,"Unknown leaf type: "+n),S(r>=0,"Unknown leaf type: "+s),i===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh,fh;function Dy(t){uh=t}function ky(t){fh=t}class My extends or{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),r=s.compareTo(i);return r===0?Zn(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(mn,new xe("[PRIORITY-POST]",fh))}makePost(e,n){const s=uh(e);return new Q(n,new xe("[PRIORITY-POST]",s))}toString(){return".priority"}}const be=new My;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=Math.log(2);class Fy{constructor(e){const n=r=>parseInt(Math.log(r)/Ly,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oi=function(t,e,n,s){t.sort(e);const i=function(a,c){const u=c-a;let f,h;if(u===0)return null;if(u===1)return f=t[a],h=n?n(f):f,new Ae(h,f.node,Ae.BLACK,null,null);{const d=parseInt(u/2,10)+a,m=i(a,d),v=i(d+1,c);return f=t[d],h=n?n(f):f,new Ae(h,f.node,Ae.BLACK,m,v)}},r=function(a){let c=null,u=null,f=t.length;const h=function(m,v){const D=f-m,k=f;f-=m;const A=i(D+1,k),B=t[D],M=n?n(B):B;d(new Ae(M,B.node,v,null,A))},d=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<a.count;++m){const v=a.nextBitIsOne(),D=Math.pow(2,a.count-(m+1));v?h(D,Ae.BLACK):(h(D,Ae.BLACK),h(D,Ae.RED))}return u},o=new Fy(t.length),l=r(o);return new Ke(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr;const Rn={};class At{static get Default(){return S(Rn&&be,"ChildrenNode.ts has not been loaded"),Mr=Mr||new At({".priority":Rn},{".priority":be}),Mr}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Kn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ke?n:null}hasIndex(e){return $t(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Un,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const r=n.getIterator(Q.Wrap);let o=r.getNext();for(;o;)i=i||e.isDefinedOn(o.node),s.push(o),o=r.getNext();let l;i?l=Oi(s,e.getCompare()):l=Rn;const a=e.toString(),c={...this.indexSet_};c[a]=e;const u={...this.indexes_};return u[a]=l,new At(u,c)}addToIndexes(e,n){const s=Ti(this.indexes_,(i,r)=>{const o=Kn(this.indexSet_,r);if(S(o,"Missing index implementation for "+r),i===Rn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(Q.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Oi(l,o.getCompare())}else return Rn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new Q(e.name,l))),a.insert(e,e.node)}});return new At(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ti(this.indexes_,i=>{if(i===Rn)return i;{const r=n.get(e.name);return r?i.remove(new Q(e.name,r)):i}});return new At(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us;class q{static get EMPTY_NODE(){return us||(us=new q(new Ke(Yo),null,At.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&ch(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||us}updatePriority(e){return this.children_.isEmpty()?this:new q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?us:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Q(e,n);let i,r;n.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(s,this.children_));const o=i.isEmpty()?us:this.priorityNode_;return new q(i,o,r)}}updateChild(e,n){const s=Y(e);if(s===null)return n;{S(Y(e)!==".priority"||Zt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(ve(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,r=!0;if(this.forEachChild(be,(o,l)=>{n[o]=l.val(e),s++,r&&q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):r=!1}),!e&&r&&i<2*s){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ah(this.getPriority().val())+":"),this.forEachChild(be,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Mf(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const r=i.getPredecessorKey(new Q(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Q(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Q.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)<0;)i.getNext(),r=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Q.Wrap);let r=i.peek();for(;r!=null&&n.compare(r,e)>0;)i.getNext(),r=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zs?-1:0}withIndex(e){if(e===Un||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Un||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(be),i=n.getIterator(be);let r=s.getNext(),o=i.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=s.getNext(),o=i.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Un?null:this.indexMap_.get(e.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class By extends q{constructor(){super(new Ke(Yo),q.EMPTY_NODE,At.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}}const Zs=new By;Object.defineProperties(Q,{MIN:{value:new Q(zn,q.EMPTY_NODE)},MAX:{value:new Q(mn,Zs)}});lh.__EMPTY_NODE=q.EMPTY_NODE;xe.__childrenNodeConstructor=q;Oy(Zs);ky(Zs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=!0;function De(t,e=null){if(t===null)return q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xe(n,De(e))}if(!(t instanceof Array)&&Vy){const n=[];let s=!1;if(Ye(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=De(l);a.isEmpty()||(s=s||!a.getPriority().isEmpty(),n.push(new Q(o,a)))}}),n.length===0)return q.EMPTY_NODE;const r=Oi(n,Py,o=>o.name,Yo);if(s){const o=Oi(n,be.getCompare());return new q(r,De(e),new At({".priority":o},{".priority":be}))}else return new q(r,De(e),At.Default)}else{let n=q.EMPTY_NODE;return Ye(t,(s,i)=>{if($t(t,s)&&s.substring(0,1)!=="."){const r=De(i);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(s,r))}}),n.updatePriority(De(e))}}Dy(De);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends or{constructor(e){super(),this.indexPath_=e,S(!J(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),r=s.compareTo(i);return r===0?Zn(e.name,n.name):r}makePost(e,n){const s=De(e),i=q.EMPTY_NODE.updateChild(this.indexPath_,s);return new Q(n,i)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,Zs);return new Q(mn,e)}toString(){return ih(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends or{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Zn(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const s=De(e);return new Q(n,s)}toString(){return".value"}}const Uy=new Hy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){return{type:"value",snapshotNode:t}}function Yn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hs(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Us(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Wy(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.index_=e}updateChild(e,n,s,i,r,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(s.getChild(i))&&l.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Hs(n,l)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Yn(n,s)):o.trackChildChange(Us(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(be,(i,r)=>{n.hasChild(i)||s.trackChildChange(Hs(i,r))}),n.isLeafNode()||n.forEachChild(be,(i,r)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(r)||s.trackChildChange(Us(i,r,o))}else s.trackChildChange(Yn(i,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.indexedFilter_=new Qo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ws.getStartPost_(e),this.endPost_=Ws.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,r,o){return this.matches(new Q(n,s))||(s=q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,r,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(q.EMPTY_NODE);const r=this;return n.forEachChild(be,(o,l)=>{r.matches(new Q(o,l))||(i=i.updateImmediateChild(o,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ws(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,r,o){return this.rangedFilter_.matches(new Q(n,s))||(s=q.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,r,o):this.fullLimitUpdateChild_(e,n,s,r,o)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=q.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(q.EMPTY_NODE);let r;this.reverse_?r=i.getReverseIterator(this.index_):r=i.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,r){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,d)=>f(d,h)}else o=this.index_.getCompare();const l=e;S(l.numChildren()===this.limit_,"");const a=new Q(n,s),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const d=h==null?1:o(h,a);if(u&&!s.isEmpty()&&d>=0)return r!=null&&r.trackChildChange(Us(n,s,f)),l.updateImmediateChild(n,s);{r!=null&&r.trackChildChange(Hs(n,f));const v=l.updateImmediateChild(n,q.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(Yn(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return s.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(Hs(c.name,c.node)),r.trackChildChange(Yn(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(c.name,q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zn}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){const e=new Jo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Gy(t){return t.loadsAllData()?new Qo(t.getIndex()):t.hasLimit()?new jy(t):new Ws(t)}function Xa(t){const e={};if(t.isDefault())return e;let n;if(t.index_===be?n="$priority":t.index_===Uy?n="$value":t.index_===Un?n="$key":(S(t.index_ instanceof $y,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Pe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Pe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Pe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Za(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==be&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends th{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Xs("p:rest:"),this.listens_={}}listen(e,n,s,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Di.getListenId_(e,s),l={};this.listens_[o]=l;const a=Xa(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let f=u;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(r,f,!1,s),Kn(this.listens_,o)===l){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const s=Di.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Xa(e._queryParams),s=e._path.toString(),i=new ir;return this.restRequest_(s+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(s,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(n.auth=i.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gm(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Fs(l.responseText)}catch{ze("Failed to parse JSON response for "+o+": "+l.responseText)}s(null,a)}else l.status!==401&&l.status!==404&&ze("Got unsuccessful REST response for "+o+" Status: "+l.status),s(l.status);s=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return{value:null,children:new Map}}function dh(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Y(e);t.children.has(s)||t.children.set(s,ki());const i=t.children.get(s);e=ve(e),dh(i,e,n)}}function uo(t,e,n){t.value!==null?n(e,t.value):Ky(t,(s,i)=>{const r=new pe(e.toString()+"/"+s);uo(i,r,n)})}function Ky(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Ye(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=10*1e3,Yy=30*1e3,Qy=5*60*1e3;class Jy{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zy(e);const s=ec+(Yy-ec)*Math.random();Is(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ye(e,(i,r)=>{r>0&&$t(this.statsToReport_,i)&&(n[i]=r,s=!0)}),s&&this.server_.reportStats(n),Is(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qy))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(lt||(lt={}));function ph(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zo(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=lt.ACK_USER_WRITE,this.source=ph()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new Mi(ne(),n,this.revert)}}else return S(Y(this.path)===e,"operationForChild called for unrelated child."),new Mi(ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.source=e,this.path=n,this.type=lt.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new js(this.source,ne()):new js(this.source,ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=lt.OVERWRITE}operationForChild(e){return J(this.path)?new vn(this.source,ne(),this.snap.getImmediateChild(e)):new vn(this.source,ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=lt.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new vn(this.source,ne(),n.value):new Gs(this.source,ne(),n)}else return S(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gs(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zy(t,e,n,s){const i=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Wy(o.childName,o.snapshotNode))}),fs(t,i,"child_removed",e,s,n),fs(t,i,"child_added",e,s,n),fs(t,i,"child_moved",r,s,n),fs(t,i,"child_changed",e,s,n),fs(t,i,"value",e,s,n),i}function fs(t,e,n,s,i,r){const o=s.filter(l=>l.type===n);o.sort((l,a)=>tC(t,l,a)),o.forEach(l=>{const a=eC(t,l,r);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function eC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function tC(t,e,n){if(e.childName==null||n.childName==null)throw Xn("Should only compare child_ events.");const s=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){return{eventCache:t,serverCache:e}}function Ts(t,e,n,s){return lr(new yn(e,n,s),t.serverCache)}function _h(t,e,n,s){return lr(t.eventCache,new yn(e,n,s))}function fo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Cn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr;const nC=()=>(Lr||(Lr=new Ke(Hv)),Lr);class ye{static fromObject(e){let n=new ye(null);return Ye(e,(s,i)=>{n=n.set(new pe(s),i)}),n}constructor(e,n=nC()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ne(),value:this.value};if(J(e))return null;{const s=Y(e),i=this.children.get(s);if(i!==null){const r=i.findRootMostMatchingPathAndValue(ve(e),n);return r!=null?{path:Ie(new pe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Y(e),s=this.children.get(n);return s!==null?s.subtree(ve(e)):new ye(null)}}set(e,n){if(J(e))return new ye(n,this.children);{const s=Y(e),r=(this.children.get(s)||new ye(null)).set(ve(e),n),o=this.children.insert(s,r);return new ye(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=Y(e),s=this.children.get(n);if(s){const i=s.remove(ve(e));let r;return i.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,i),this.value===null&&r.isEmpty()?new ye(null):new ye(this.value,r)}else return this}}get(e){if(J(e))return this.value;{const n=Y(e),s=this.children.get(n);return s?s.get(ve(e)):null}}setTree(e,n){if(J(e))return n;{const s=Y(e),r=(this.children.get(s)||new ye(null)).setTree(ve(e),n);let o;return r.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,r),new ye(this.value,o)}}fold(e){return this.fold_(ne(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,r)=>{s[i]=r.fold_(Ie(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,ne(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(J(e))return null;{const r=Y(e),o=this.children.get(r);return o?o.findOnPath_(ve(e),Ie(n,r),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ne(),n)}foreachOnPath_(e,n,s){if(J(e))return this;{this.value&&s(n,this.value);const i=Y(e),r=this.children.get(i);return r?r.foreachOnPath_(ve(e),Ie(n,i),s):new ye(null)}}foreach(e){this.foreach_(ne(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(Ie(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.writeTree_=e}static empty(){return new ct(new ye(null))}}function Rs(t,e,n){if(J(e))return new ct(new ye(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let r=s.value;const o=qe(i,e);return r=r.updateChild(o,n),new ct(t.writeTree_.set(i,r))}else{const i=new ye(n),r=t.writeTree_.setTree(e,i);return new ct(r)}}}function tc(t,e,n){let s=t;return Ye(n,(i,r)=>{s=Rs(s,Ie(e,i),r)}),s}function nc(t,e){if(J(e))return ct.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new ct(n)}}function ho(t,e){return En(t,e)!=null}function En(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qe(n.path,e)):null}function sc(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(be,(s,i)=>{e.push(new Q(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new Q(s,i.value))}),e}function Jt(t,e){if(J(e))return t;{const n=En(t,e);return n!=null?new ct(new ye(n)):new ct(t.writeTree_.subtree(e))}}function po(t){return t.writeTree_.isEmpty()}function Qn(t,e){return gh(ne(),t.writeTree_,e)}function gh(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,r)=>{i===".priority"?(S(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):n=gh(Ie(t,i),r,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ie(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t,e){return Ch(e,t)}function sC(t,e,n,s,i){S(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Rs(t.visibleWrites,e,n)),t.lastWriteId=s}function iC(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function rC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,r=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&oC(l,s.path)?i=!1:ot(s.path,l.path)&&(r=!0)),o--}if(i){if(r)return lC(t),!0;if(s.snap)t.visibleWrites=nc(t.visibleWrites,s.path);else{const l=s.children;Ye(l,a=>{t.visibleWrites=nc(t.visibleWrites,Ie(s.path,a))})}return!0}else return!1}function oC(t,e){if(t.snap)return ot(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ot(Ie(t.path,n),e))return!0;return!1}function lC(t){t.visibleWrites=mh(t.allWrites,aC,ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aC(t){return t.visible}function mh(t,e,n){let s=ct.empty();for(let i=0;i<t.length;++i){const r=t[i];if(e(r)){const o=r.path;let l;if(r.snap)ot(n,o)?(l=qe(n,o),s=Rs(s,l,r.snap)):ot(o,n)&&(l=qe(o,n),s=Rs(s,ne(),r.snap.getChild(l)));else if(r.children){if(ot(n,o))l=qe(n,o),s=tc(s,l,r.children);else if(ot(o,n))if(l=qe(o,n),J(l))s=tc(s,ne(),r.children);else{const a=Kn(r.children,Y(l));if(a){const c=a.getChild(ve(l));s=Rs(s,ne(),c)}}}else throw Xn("WriteRecord should have .snap or .children")}}return s}function vh(t,e,n,s,i){if(!s&&!i){const r=En(t.visibleWrites,e);if(r!=null)return r;{const o=Jt(t.visibleWrites,e);if(po(o))return n;if(n==null&&!ho(o,ne()))return null;{const l=n||q.EMPTY_NODE;return Qn(o,l)}}}else{const r=Jt(t.visibleWrites,e);if(!i&&po(r))return n;if(!i&&n==null&&!ho(r,ne()))return null;{const o=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(ot(c.path,e)||ot(e,c.path))},l=mh(t.allWrites,o,e),a=n||q.EMPTY_NODE;return Qn(l,a)}}}function cC(t,e,n){let s=q.EMPTY_NODE;const i=En(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(be,(r,o)=>{s=s.updateImmediateChild(r,o)}),s;if(n){const r=Jt(t.visibleWrites,e);return n.forEachChild(be,(o,l)=>{const a=Qn(Jt(r,new pe(o)),l);s=s.updateImmediateChild(o,a)}),sc(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const r=Jt(t.visibleWrites,e);return sc(r).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function uC(t,e,n,s,i){S(s||i,"Either existingEventSnap or existingServerSnap must exist");const r=Ie(e,n);if(ho(t.visibleWrites,r))return null;{const o=Jt(t.visibleWrites,r);return po(o)?i.getChild(n):Qn(o,i.getChild(n))}}function fC(t,e,n,s){const i=Ie(e,n),r=En(t.visibleWrites,i);if(r!=null)return r;if(s.isCompleteForChild(n)){const o=Jt(t.visibleWrites,i);return Qn(o,s.getNode().getImmediateChild(n))}else return null}function hC(t,e){return En(t.visibleWrites,e)}function dC(t,e,n,s,i,r,o){let l;const a=Jt(t.visibleWrites,e),c=En(a,ne());if(c!=null)l=c;else if(n!=null)l=Qn(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],f=o.getCompare(),h=r?l.getReverseIteratorFrom(s,o):l.getIteratorFrom(s,o);let d=h.getNext();for(;d&&u.length<i;)f(d,s)!==0&&u.push(d),d=h.getNext();return u}else return[]}function pC(){return{visibleWrites:ct.empty(),allWrites:[],lastWriteId:-1}}function Li(t,e,n,s){return vh(t.writeTree,t.treePath,e,n,s)}function tl(t,e){return cC(t.writeTree,t.treePath,e)}function ic(t,e,n,s){return uC(t.writeTree,t.treePath,e,n,s)}function Fi(t,e){return hC(t.writeTree,Ie(t.treePath,e))}function _C(t,e,n,s,i,r){return dC(t.writeTree,t.treePath,e,n,s,i,r)}function nl(t,e,n){return fC(t.writeTree,t.treePath,e,n)}function yh(t,e){return Ch(Ie(t.treePath,e),t.writeTree)}function Ch(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const r=i.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(s,Us(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(s,Hs(s,i.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(s,Yn(s,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(s,Us(s,e.snapshotNode,i.oldSnap));else throw Xn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const bh=new mC;class sl{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nl(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cn(this.viewCache_),r=_C(this.writes_,i,n,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){return{filter:t}}function yC(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function CC(t,e,n,s,i){const r=new gC;let o,l;if(n.type===lt.OVERWRITE){const c=n;c.source.fromUser?o=_o(t,e,c.path,c.snap,s,i,r):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=Bi(t,e,c.path,c.snap,s,i,l,r))}else if(n.type===lt.MERGE){const c=n;c.source.fromUser?o=EC(t,e,c.path,c.children,s,i,r):(S(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=go(t,e,c.path,c.children,s,i,l,r))}else if(n.type===lt.ACK_USER_WRITE){const c=n;c.revert?o=IC(t,e,c.path,s,i,r):o=wC(t,e,c.path,c.affectedTree,s,i,r)}else if(n.type===lt.LISTEN_COMPLETE)o=SC(t,e,n.path,s,r);else throw Xn("Unknown operation type: "+n.type);const a=r.getChanges();return bC(e,o,a),{viewCache:o,changes:a}}function bC(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=fo(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&n.push(hh(fo(e)))}}function Eh(t,e,n,s,i,r){const o=e.eventCache;if(Fi(s,n)!=null)return e;{let l,a;if(J(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Cn(e),u=c instanceof q?c:q.EMPTY_NODE,f=tl(s,u);l=t.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{const c=Li(s,Cn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=Y(n);if(c===".priority"){S(Zt(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const f=ic(s,n,u,a);f!=null?l=t.filter.updatePriority(u,f):l=o.getNode()}else{const u=ve(n);let f;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const h=ic(s,n,o.getNode(),a);h!=null?f=o.getNode().getImmediateChild(c).updateChild(u,h):f=o.getNode().getImmediateChild(c)}else f=nl(s,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,u,i,r):l=o.getNode()}}return Ts(e,l,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Bi(t,e,n,s,i,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(a.getNode(),s,null);else if(u.filtersNodes()&&!a.isFiltered()){const d=a.getNode().updateChild(n,s);c=u.updateFullNode(a.getNode(),d,null)}else{const d=Y(n);if(!a.isCompleteForPath(n)&&Zt(n)>1)return e;const m=ve(n),D=a.getNode().getImmediateChild(d).updateChild(m,s);d===".priority"?c=u.updatePriority(a.getNode(),D):c=u.updateChild(a.getNode(),d,D,m,bh,null)}const f=_h(e,c,a.isFullyInitialized()||J(n),u.filtersNodes()),h=new sl(i,f,r);return Eh(t,f,n,i,h,l)}function _o(t,e,n,s,i,r,o){const l=e.eventCache;let a,c;const u=new sl(i,e,r);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),a=Ts(e,c,!0,t.filter.filtersNodes());else{const f=Y(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),a=Ts(e,c,l.isFullyInitialized(),l.isFiltered());else{const h=ve(n),d=l.getNode().getImmediateChild(f);let m;if(J(h))m=s;else{const v=u.getCompleteChild(f);v!=null?sh(h)===".priority"&&v.getChild(rh(h)).isEmpty()?m=v:m=v.updateChild(h,s):m=q.EMPTY_NODE}if(d.equals(m))a=e;else{const v=t.filter.updateChild(l.getNode(),f,m,h,u,o);a=Ts(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function rc(t,e){return t.eventCache.isCompleteForChild(e)}function EC(t,e,n,s,i,r,o){let l=e;return s.foreach((a,c)=>{const u=Ie(n,a);rc(e,Y(u))&&(l=_o(t,l,u,c,i,r,o))}),s.foreach((a,c)=>{const u=Ie(n,a);rc(e,Y(u))||(l=_o(t,l,u,c,i,r,o))}),l}function oc(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function go(t,e,n,s,i,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;J(n)?c=s:c=new ye(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(u.hasChild(f)){const d=e.serverCache.getNode().getImmediateChild(f),m=oc(t,d,h);a=Bi(t,a,new pe(f),m,i,r,o,l)}}),c.children.inorderTraversal((f,h)=>{const d=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!u.hasChild(f)&&!d){const m=e.serverCache.getNode().getImmediateChild(f),v=oc(t,m,h);a=Bi(t,a,new pe(f),v,i,r,o,l)}}),a}function wC(t,e,n,s,i,r,o){if(Fi(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(s.value!=null){if(J(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Bi(t,e,n,a.getNode().getChild(n),i,r,l,o);if(J(n)){let c=new ye(null);return a.getNode().forEachChild(Un,(u,f)=>{c=c.set(new pe(u),f)}),go(t,e,n,c,i,r,l,o)}else return e}else{let c=new ye(null);return s.foreach((u,f)=>{const h=Ie(n,u);a.isCompleteForPath(h)&&(c=c.set(u,a.getNode().getChild(h)))}),go(t,e,n,c,i,r,l,o)}}function SC(t,e,n,s,i){const r=e.serverCache,o=_h(e,r.getNode(),r.isFullyInitialized()||J(n),r.isFiltered());return Eh(t,o,n,s,bh,i)}function IC(t,e,n,s,i,r){let o;if(Fi(s,n)!=null)return e;{const l=new sl(s,e,i),a=e.eventCache.getNode();let c;if(J(n)||Y(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Li(s,Cn(e));else{const f=e.serverCache.getNode();S(f instanceof q,"serverChildren would be complete if leaf node"),u=tl(s,f)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=Y(n);let f=nl(s,u,e.serverCache);f==null&&e.serverCache.isCompleteForChild(u)&&(f=a.getImmediateChild(u)),f!=null?c=t.filter.updateChild(a,u,f,ve(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,q.EMPTY_NODE,ve(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Li(s,Cn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Fi(s,ne())!=null,Ts(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new Qo(s.getIndex()),r=Gy(s);this.processor_=vC(r);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(q.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(q.EMPTY_NODE,l.getNode(),null),u=new yn(a,o.isFullyInitialized(),i.filtersNodes()),f=new yn(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=lr(f,u),this.eventGenerator_=new Xy(this.query_)}get query(){return this.query_}}function RC(t){return t.viewCache_.serverCache.getNode()}function xC(t,e){const n=Cn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function lc(t){return t.eventRegistrations_.length===0}function AC(t,e){t.eventRegistrations_.push(e)}function ac(t,e,n){const s=[];if(n){S(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,i);o&&s.push(o)})}if(e){let i=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function cc(t,e,n,s){e.type===lt.MERGE&&e.source.queryId!==null&&(S(Cn(t.viewCache_),"We should always have a full cache before handling merges"),S(fo(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,r=CC(t.processor_,i,e,n,s);return yC(t.processor_,r.viewCache),S(r.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,wh(t,r.changes,r.viewCache.eventCache.getNode(),null)}function NC(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(r,o)=>{s.push(Yn(r,o))}),n.isFullyInitialized()&&s.push(hh(n.getNode())),wh(t,s,n.getNode(),e)}function wh(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return Zy(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vi;class PC{constructor(){this.views=new Map}}function OC(t){S(!Vi,"__referenceConstructor has already been defined"),Vi=t}function DC(){return S(Vi,"Reference.ts has not been loaded"),Vi}function kC(t){return t.views.size===0}function il(t,e,n,s){const i=e.source.queryId;if(i!==null){const r=t.views.get(i);return S(r!=null,"SyncTree gave us an op for an invalid query."),cc(r,e,n,s)}else{let r=[];for(const o of t.views.values())r=r.concat(cc(o,e,n,s));return r}}function MC(t,e,n,s,i){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Li(n,i?s:null),a=!1;l?a=!0:s instanceof q?(l=tl(n,s),a=!1):(l=q.EMPTY_NODE,a=!1);const c=lr(new yn(l,a,!1),new yn(s,i,!1));return new TC(e,c)}return o}function LC(t,e,n,s,i,r){const o=MC(t,e,s,i,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),AC(o,n),NC(o,n)}function FC(t,e,n,s){const i=e._queryIdentifier,r=[];let o=[];const l=en(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(ac(c,n,s)),lc(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(ac(a,n,s)),lc(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!en(t)&&r.push(new(DC())(e._repo,e._path)),{removed:r,events:o}}function Sh(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wn(t,e){let n=null;for(const s of t.views.values())n=n||xC(s,e);return n}function Ih(t,e){if(e._queryParams.loadsAllData())return ar(t);{const s=e._queryIdentifier;return t.views.get(s)}}function Th(t,e){return Ih(t,e)!=null}function en(t){return ar(t)!=null}function ar(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i;function BC(t){S(!$i,"__referenceConstructor has already been defined"),$i=t}function VC(){return S($i,"Reference.ts has not been loaded"),$i}let $C=1;class uc{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=pC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rh(t,e,n,s,i){return sC(t.pendingWriteTree_,e,n,s,i),i?ei(t,new vn(ph(),e,n)):[]}function dn(t,e,n=!1){const s=iC(t.pendingWriteTree_,e);if(rC(t.pendingWriteTree_,e)){let r=new ye(null);return s.snap!=null?r=r.set(ne(),!0):Ye(s.children,o=>{r=r.set(new pe(o),!0)}),ei(t,new Mi(s.path,r,n))}else return[]}function cr(t,e,n){return ei(t,new vn(Xo(),e,n))}function HC(t,e,n){const s=ye.fromObject(n);return ei(t,new Gs(Xo(),e,s))}function UC(t,e){return ei(t,new js(Xo(),e))}function WC(t,e,n){const s=ol(t,n);if(s){const i=ll(s),r=i.path,o=i.queryId,l=qe(r,e),a=new js(Zo(o),l);return al(t,r,a)}else return[]}function mo(t,e,n,s,i=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||Th(o,e))){const a=FC(o,e,n,s);kC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(r,(h,d)=>en(d));if(u&&!f){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const d=qC(h);for(let m=0;m<d.length;++m){const v=d[m],D=v.query,k=Nh(t,v);t.listenProvider_.startListening(xs(D),Hi(t,D),k.hashFn,k.onComplete)}}}!f&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(xs(e),null):c.forEach(h=>{const d=t.queryToTagMap.get(ur(h));t.listenProvider_.stopListening(xs(h),d)}))}KC(t,c)}return l}function jC(t,e,n,s){const i=ol(t,s);if(i!=null){const r=ll(i),o=r.path,l=r.queryId,a=qe(o,e),c=new vn(Zo(l),a,n);return al(t,o,c)}else return[]}function GC(t,e,n,s){const i=ol(t,s);if(i){const r=ll(i),o=r.path,l=r.queryId,a=qe(o,e),c=ye.fromObject(n),u=new Gs(Zo(l),a,c);return al(t,o,u)}else return[]}function fc(t,e,n,s=!1){const i=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,d)=>{const m=qe(h,i);r=r||Wn(d,m),o=o||en(d)});let l=t.syncPointTree_.get(i);l?(o=o||en(l),r=r||Wn(l,ne())):(l=new PC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;r!=null?a=!0:(a=!1,r=q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,m)=>{const v=Wn(m,ne());v&&(r=r.updateImmediateChild(d,v))}));const c=Th(l,e);if(!c&&!e._queryParams.loadsAllData()){const h=ur(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const d=zC();t.queryToTagMap.set(h,d),t.tagToQueryMap.set(d,h)}const u=el(t.pendingWriteTree_,i);let f=LC(l,e,n,u,r,a);if(!c&&!o&&!s){const h=Ih(l,e);f=f.concat(YC(t,e,h))}return f}function rl(t,e,n){const i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=qe(o,e),c=Wn(l,a);if(c)return c});return vh(i,e,r,n,!0)}function ei(t,e){return xh(e,t.syncPointTree_,null,el(t.pendingWriteTree_,ne()))}function xh(t,e,n,s){if(J(t.path))return Ah(t,e,n,s);{const i=e.get(ne());n==null&&i!=null&&(n=Wn(i,ne()));let r=[];const o=Y(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=yh(s,o);r=r.concat(xh(l,a,c,u))}return i&&(r=r.concat(il(i,t,s,n))),r}}function Ah(t,e,n,s){const i=e.get(ne());n==null&&i!=null&&(n=Wn(i,ne()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=yh(s,o),u=t.operationForChild(o);u&&(r=r.concat(Ah(u,l,a,c)))}),i&&(r=r.concat(il(i,t,s,n))),r}function Nh(t,e){const n=e.query,s=Hi(t,n);return{hashFn:()=>(RC(e)||q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?WC(t,n._path,s):UC(t,n._path);{const r=jv(i,n);return mo(t,n,null,r)}}}}function Hi(t,e){const n=ur(e);return t.queryToTagMap.get(n)}function ur(t){return t._path.toString()+"$"+t._queryIdentifier}function ol(t,e){return t.tagToQueryMap.get(e)}function ll(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function al(t,e,n){const s=t.syncPointTree_.get(e);S(s,"Missing sync point for query tag that we're tracking");const i=el(t.pendingWriteTree_,e);return il(s,n,i,null)}function qC(t){return t.fold((e,n,s)=>{if(n&&en(n))return[ar(n)];{let i=[];return n&&(i=Sh(n)),Ye(s,(r,o)=>{i=i.concat(o)}),i}})}function xs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(VC())(t._repo,t._path):t}function KC(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=ur(s),r=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(r)}}}function zC(){return $C++}function YC(t,e,n){const s=e._path,i=Hi(t,e),r=Nh(t,n),o=t.listenProvider_.startListening(xs(e),i,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(s);if(i)S(!en(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,f)=>{if(!J(c)&&u&&en(u))return[ar(u).query];{let h=[];return u&&(h=h.concat(Sh(u).map(d=>d.query))),Ye(f,(d,m)=>{h=h.concat(m)}),h}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(xs(u),Hi(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new cl(n)}node(){return this.node_}}class ul{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ie(this.path_,e);return new ul(this.syncTree_,n)}node(){return rl(this.syncTree_,this.path_)}}const QC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hc=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return JC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return XC(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},JC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},XC=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&S(!1,"Unexpected increment value: "+s);const i=e.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const o=i.getValue();return typeof o!="number"?s:o+s},ZC=function(t,e,n,s){return fl(e,new ul(n,t),s)},Ph=function(t,e,n){return fl(t,new cl(e),n)};function fl(t,e,n){const s=t.getPriority().val(),i=hc(s,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=hc(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new xe(l,De(i)):t}else{const o=t;return r=o,i!==o.getPriority().val()&&(r=r.updatePriority(new xe(i))),o.forEachChild(be,(l,a)=>{const c=fl(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function dl(t,e){let n=e instanceof pe?e:new pe(e),s=t,i=Y(n);for(;i!==null;){const r=Kn(s.node.children,i)||{children:{},childCount:0};s=new hl(i,s,r),n=ve(n),i=Y(n)}return s}function ts(t){return t.node.value}function Oh(t,e){t.node.value=e,vo(t)}function Dh(t){return t.node.childCount>0}function eb(t){return ts(t)===void 0&&!Dh(t)}function fr(t,e){Ye(t.node.children,(n,s)=>{e(new hl(n,t,s))})}function kh(t,e,n,s){n&&e(t),fr(t,i=>{kh(i,e,!0)})}function tb(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function ti(t){return new pe(t.parent===null?t.name:ti(t.parent)+"/"+t.name)}function vo(t){t.parent!==null&&nb(t.parent,t.name,t)}function nb(t,e,n){const s=eb(n),i=$t(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,vo(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,vo(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=/[\[\].#$\/\u0000-\u001F\u007F]/,ib=/[\[\].#$\u0000-\u001F\u007F]/,Fr=10*1024*1024,Mh=function(t){return typeof t=="string"&&t.length!==0&&!sb.test(t)},Lh=function(t){return typeof t=="string"&&t.length!==0&&!ib.test(t)},rb=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Lh(t)},ob=function(t,e,n,s){pl(Ho(t,"value"),e,n)},pl=function(t,e,n){const s=n instanceof pe?new wy(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+un(s));if(typeof e=="function")throw new Error(t+"contains a function "+un(s)+" with contents = "+e.toString());if(Lf(e))throw new Error(t+"contains "+e.toString()+" "+un(s));if(typeof e=="string"&&e.length>Fr/3&&rr(e)>Fr)throw new Error(t+"contains a string greater than "+Fr+" utf8 bytes "+un(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,r=!1;if(Ye(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Mh(o)))throw new Error(t+" contains an invalid key ("+o+") "+un(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sy(s,o),pl(t,l,s),Iy(s)}),i&&r)throw new Error(t+' contains ".value" child '+un(s)+" in addition to actual children.")}},Fh=function(t,e,n,s){if(!Lh(n))throw new Error(Ho(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lb=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fh(t,e,n)},ab=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Mh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rb(n))throw new Error(Ho(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _l(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],r=i.getPath();n!==null&&!Ko(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(i)}n&&t.eventLists_.push(n)}function Bh(t,e,n){_l(t,n),Vh(t,s=>Ko(s,e))}function Ft(t,e,n){_l(t,n),Vh(t,s=>ot(s,e)||ot(e,s))}function Vh(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const r=i.path;e(r)?(fb(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function fb(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ss&&Fe("event: "+n.toString()),es(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="repo_interrupt",db=25;class pb{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ub,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ki(),this.transactionQueueTree_=new hl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _b(t,e,n){if(t.stats_=Go(t.repoInfo_),t.forceRestClient_||zv())t.server_=new Di(t.repoInfo_,(s,i,r,o)=>{dc(t,s,i,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pc(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Pt(t.repoInfo_,e,(s,i,r,o)=>{dc(t,s,i,r,o)},s=>{pc(t,s)},s=>{mb(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Zv(t.repoInfo_,()=>new Jy(t.stats_,t.server_)),t.infoData_=new qy,t.infoSyncTree_=new uc({startListening:(s,i,r,o)=>{let l=[];const a=t.infoData_.getNode(s._path);return a.isEmpty()||(l=cr(t.infoSyncTree_,s._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ml(t,"connected",!1),t.serverSyncTree_=new uc({startListening:(s,i,r,o)=>(t.server_.listen(s,r,i,(l,a)=>{const c=o(l,a);Ft(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function gb(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gl(t){return QC({timestamp:gb(t)})}function dc(t,e,n,s,i){t.dataUpdateCount++;const r=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(s){const a=Ti(n,c=>De(c));o=GC(t.serverSyncTree_,r,a,i)}else{const a=De(n);o=jC(t.serverSyncTree_,r,a,i)}else if(s){const a=Ti(n,c=>De(c));o=HC(t.serverSyncTree_,r,a)}else{const a=De(n);o=cr(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=hr(t,r)),Ft(t.eventQueue_,l,o)}function pc(t,e){ml(t,"connected",e),e===!1&&yb(t)}function mb(t,e){Ye(e,(n,s)=>{ml(t,n,s)})}function ml(t,e,n){const s=new pe("/.info/"+e),i=De(n);t.infoData_.updateSnapshot(s,i);const r=cr(t.infoSyncTree_,s,i);Ft(t.eventQueue_,s,r)}function $h(t){return t.nextWriteId_++}function vb(t,e,n,s,i){vl(t,"set",{path:e.toString(),value:n,priority:s});const r=gl(t),o=De(n,s),l=rl(t.serverSyncTree_,e),a=Ph(o,l,r),c=$h(t),u=Rh(t.serverSyncTree_,e,a,c,!0);_l(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,d)=>{const m=h==="ok";m||ze("set at "+e+" failed: "+h);const v=dn(t.serverSyncTree_,c,!m);Ft(t.eventQueue_,e,v),wb(t,i,h,d)});const f=Gh(t,e);hr(t,f),Ft(t.eventQueue_,f,[])}function yb(t){vl(t,"onDisconnectEvents");const e=gl(t),n=ki();uo(t.onDisconnect_,ne(),(i,r)=>{const o=ZC(i,r,t.serverSyncTree_,e);dh(n,i,o)});let s=[];uo(n,ne(),(i,r)=>{s=s.concat(cr(t.serverSyncTree_,i,r));const o=Gh(t,i);hr(t,o)}),t.onDisconnect_=ki(),Ft(t.eventQueue_,ne(),s)}function Cb(t,e,n){let s;Y(e._path)===".info"?s=fc(t.infoSyncTree_,e,n):s=fc(t.serverSyncTree_,e,n),Bh(t.eventQueue_,e._path,s)}function bb(t,e,n){let s;Y(e._path)===".info"?s=mo(t.infoSyncTree_,e,n):s=mo(t.serverSyncTree_,e,n),Bh(t.eventQueue_,e._path,s)}function Eb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hb)}function vl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function wb(t,e,n,s){e&&es(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let r=i;s&&(r+=": "+s);const o=new Error(r);o.code=i,e(o)}})}function Hh(t,e,n){return rl(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function yl(t,e=t.transactionQueueTree_){if(e||dr(t,e),ts(e)){const n=Wh(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Sb(t,ti(e),n)}else Dh(e)&&fr(e,n=>{yl(t,n)})}function Sb(t,e,n){const s=n.map(c=>c.currentWriteId),i=Hh(t,e,s);let r=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];S(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=qe(e,u.path);r=r.updateChild(f,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{vl(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(dn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dr(t,dl(t.transactionQueueTree_,e)),yl(t,t.transactionQueueTree_),Ft(t.eventQueue_,e,u);for(let h=0;h<f.length;h++)es(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ze("transaction at "+a.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}hr(t,e)}},o)}function hr(t,e){const n=Uh(t,e),s=ti(n),i=Wh(t,n);return Ib(t,i,s),s}function Ib(t,e,n){if(e.length===0)return;const s=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=qe(n,a.path);let u=!1,f;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,f=a.abortReason,i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=db)u=!0,f="maxretry",i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0));else{const h=Hh(t,a.path,o);a.currentInputSnapshot=h;const d=e[l].update(h.val());if(d!==void 0){pl("transaction failed: Data returned ",d,a.path);let m=De(d);typeof d=="object"&&d!=null&&$t(d,".priority")||(m=m.updatePriority(h.getPriority()));const D=a.currentWriteId,k=gl(t),A=Ph(m,h,k);a.currentOutputSnapshotRaw=m,a.currentOutputSnapshotResolved=A,a.currentWriteId=$h(t),o.splice(o.indexOf(D),1),i=i.concat(Rh(t.serverSyncTree_,a.path,A,a.currentWriteId,a.applyLocally)),i=i.concat(dn(t.serverSyncTree_,D,!0))}else u=!0,f="nodata",i=i.concat(dn(t.serverSyncTree_,a.currentWriteId,!0))}Ft(t.eventQueue_,n,i),i=[],u&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(f),!1,null))))}dr(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)es(s[l]);yl(t,t.transactionQueueTree_)}function Uh(t,e){let n,s=t.transactionQueueTree_;for(n=Y(e);n!==null&&ts(s)===void 0;)s=dl(s,n),e=ve(e),n=Y(e);return s}function Wh(t,e){const n=[];return jh(t,e,n),n.sort((s,i)=>s.order-i.order),n}function jh(t,e,n){const s=ts(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);fr(e,i=>{jh(t,i,n)})}function dr(t,e){const n=ts(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,Oh(e,n.length>0?n:void 0)}fr(e,s=>{dr(t,s)})}function Gh(t,e){const n=ti(Uh(t,e)),s=dl(t.transactionQueueTree_,e);return tb(s,i=>{Br(t,i)}),Br(t,s),kh(s,i=>{Br(t,i)}),n}function Br(t,e){const n=ts(e);if(n){const s=[];let i=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Oh(e,void 0):n.length=r+1,Ft(t.eventQueue_,ti(e),i);for(let o=0;o<s.length;o++)es(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Rb(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ze(`Invalid query segment '${n}' in query '${t}'`)}return e}const _c=function(t,e){const n=xb(t),s=n.namespace;n.domain==="firebase.com"&&Lt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Lt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Vv();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new zf(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new pe(n.pathString)}},xb=function(t){let e="",n="",s="",i="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(u,f)),u<f&&(i=Tb(t.substring(u,f)));const h=Rb(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const d=e.slice(0,c);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const m=e.indexOf(".");s=e.substring(0,m).toLowerCase(),n=e.substring(m+1),r=s}"ns"in h&&(r=h.ns)}return{host:e,port:a,domain:n,subdomain:s,secure:o,scheme:l,pathString:i,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pe(this.snapshot.exportVal())}}class Nb{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return J(this._path)?null:sh(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const e=Za(this._queryParams),n=Wo(e);return n==="{}"?"default":n}get _queryObject(){return Za(this._queryParams)}isEqual(e){if(e=Qs(e),!(e instanceof Cl))return!1;const n=this._repo===e._repo,s=Ko(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ey(this._path)}}class nn extends Cl{constructor(e,n){super(e,n,new Jo,!1)}get parent(){const e=rh(this._path);return e===null?null:new nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ui{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),s=yo(this.ref,e);return new Ui(this._node.getChild(n),s,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new Ui(i,yo(this.ref,s),be)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qh(t,e){return t=Qs(t),t._checkNotDeleted("ref"),e!==void 0?yo(t._root,e):t._root}function yo(t,e){return t=Qs(t),Y(t._path)===null?lb("child","path",e):Fh("child","path",e),new nn(t._repo,Ie(t._path,e))}function Kh(t,e){t=Qs(t),ab("set",t._path),ob("set",e,t._path);const n=new ir;return vb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class bl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new Ab("value",this,new Ui(e.snapshotNode,new nn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Nb(this,e,n):null}matches(e){return e instanceof bl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Ob(t,e,n,s,i){const r=new Pb(n,void 0),o=new bl(r);return Cb(t._repo,t,o),()=>bb(t._repo,t,o)}function zh(t,e,n,s){return Ob(t,"value",e)}OC(nn);BC(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FIREBASE_DATABASE_EMULATOR_HOST",Co={};let kb=!1;function Mb(t,e,n,s){const i=e.lastIndexOf(":"),r=e.substring(0,i),o=$o(r);t.repoInfo_=new zf(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function Lb(t,e,n,s,i){let r=s||t.options.databaseURL;r===void 0&&(t.options.projectId||Lt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=_c(r,i),l=o.repoInfo,a;typeof process<"u"&&Ma&&(a=Ma[Db]),a?(r=`http://${a}?ns=${l.namespace}`,o=_c(r,i),l=o.repoInfo):o.repoInfo.secure;const c=new Qv(t.name,t.options,e);cb("Invalid Firebase Database URL",o),J(o.path)||Lt("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Bb(l,t,c,new Yv(t,n));return new Vb(u,t)}function Fb(t,e){const n=Co[e];(!n||n[t.key]!==t)&&Lt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Eb(t),delete n[t.key]}function Bb(t,e,n,s){let i=Co[e.name];i||(i={},Co[e.name]=i);let r=i[t.toURLString()];return r&&Lt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new pb(t,kb,n,s),i[t.toURLString()]=r,r}class Vb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_b(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Fb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lt("Cannot call "+e+" on a deleted database.")}}function $b(t=Cv(),e){const n=_v(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=em("database");s&&Hb(n,...s)}return n}function Hb(t,e,n,s={}){t=Qs(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ri(s,r.repoInfo_.emulatorOptions))return;Lt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Lt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new di(di.OWNER);else if(s.mockUserToken){const l=typeof s.mockUserToken=="string"?s.mockUserToken:nm(s.mockUserToken,t.app.options.projectId);o=new di(l)}$o(e)&&(tm(e),rm("Database",!0)),Mb(r,i,s,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){Dv(yv),Ai(new Bs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Lb(s,i,r,n)},"PUBLIC").setMultipleInstances(!0)),$n(La,Fa,t),$n(La,Fa,"esm2020")}Pt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Pt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Ub();const Wb={apiKey:"AIzaSyBFW135lw0P3gTmtritqlWfStjDkDxjvPM",authDomain:"vista-trainer-icon.firebaseapp.com",databaseURL:"https://vista-trainer-icon-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vista-trainer-icon",storageBucket:"vista-trainer-icon.firebasestorage.app",messagingSenderId:"152180803730",appId:"1:152180803730:web:ba861aa0f348092ce1be4b",measurementId:"G-E189YKXRPB"},jb=Nf(Wb),Yh=$b(jb),Gb="/imageViewer/assets/01-b3EDN3c6.png",qb="/imageViewer/assets/02-BShxBuih.png",Kb="/imageViewer/assets/03-ClUtf6rq.png",zb="/imageViewer/assets/04-B4U44fU2.png",Yb="/imageViewer/assets/05-COOJVYc6.png",Qb="/imageViewer/assets/06-Dq_7eBSl.png",Jb="/imageViewer/assets/07-BgOf47y4.png",Xb="/imageViewer/assets/08-DRRLmkFX.png",Zb="/imageViewer/assets/09-BikaQuTR.png",eE="/imageViewer/assets/10-CtDy_BaZ.png",tE="/imageViewer/assets/11-B1C94kYX.png",nE="/imageViewer/assets/12-W2kVSThs.png",sE="/imageViewer/assets/13-CP9YG5Wh.png",iE="/imageViewer/assets/14-DxrhrUwV.png",rE="/imageViewer/assets/15-cfrPOvjl.png",oE="/imageViewer/assets/16-B6XR1NyF.png",lE="/imageViewer/assets/17-v7xrTa_E.png",aE="/imageViewer/assets/18-xgNSH6oI.png",cE="/imageViewer/assets/19-B1k9Rd79.png",uE="/imageViewer/assets/20-nxrmhThU.png",fE="/imageViewer/assets/21-xNR4LXtw.png",hE="/imageViewer/assets/22-gSIjPoB8.png",dE="/imageViewer/assets/23-C3EAbpNz.png",pE="/imageViewer/assets/24-B7eTjVXF.png",_E="/imageViewer/assets/25-IgGG1TaC.png",gE="/imageViewer/assets/26-6dGgtf9Q.png",mE="/imageViewer/assets/27-DFRn8Flb.png",vE="/imageViewer/assets/28-BfZr5bEs.png",yE="/imageViewer/assets/29-Di-T_I45.png",CE="/imageViewer/assets/30-BCpP81hd.png",bE={class:"selector-dock"},EE={class:"groups-container"},wE=["src","onClick"],SE=Bt({__name:"IconSelector",emits:["select","deselect"],setup(t,{expose:e,emit:n}){const s=n,i=Object.assign({"/src/assets/images/icon/01.png":Gb,"/src/assets/images/icon/02.png":qb,"/src/assets/images/icon/03.png":Kb,"/src/assets/images/icon/04.png":zb,"/src/assets/images/icon/05.png":Yb,"/src/assets/images/icon/06.png":Qb,"/src/assets/images/icon/07.png":Jb,"/src/assets/images/icon/08.png":Xb,"/src/assets/images/icon/09.png":Zb,"/src/assets/images/icon/10.png":eE,"/src/assets/images/icon/11.png":tE,"/src/assets/images/icon/12.png":nE,"/src/assets/images/icon/13.png":sE,"/src/assets/images/icon/14.png":iE,"/src/assets/images/icon/15.png":rE,"/src/assets/images/icon/16.png":oE,"/src/assets/images/icon/17.png":lE,"/src/assets/images/icon/18.png":aE,"/src/assets/images/icon/19.png":cE,"/src/assets/images/icon/20.png":uE,"/src/assets/images/icon/21.png":fE,"/src/assets/images/icon/22.png":hE,"/src/assets/images/icon/23.png":dE,"/src/assets/images/icon/24.png":pE,"/src/assets/images/icon/25.png":_E,"/src/assets/images/icon/26.png":gE,"/src/assets/images/icon/27.png":mE,"/src/assets/images/icon/28.png":vE,"/src/assets/images/icon/29.png":yE,"/src/assets/images/icon/30.png":CE}),r=["#dbeeff","#dbf5db","#ffe3ec","#fff8db","#f1e6ff","#ffe9d6","#ddfaff","#f2f2f2"],o=Le(new Set),l=Be(()=>{const f=[[]],h=Object.values(i).sort();return console.log(h),h.forEach((d,m)=>{const v=Math.floor(m/5);f[v]||(f[v]=[]),f[v].push(d)}),f}),a=f=>{if(o.value.has(f))o.value.delete(f),s("deselect",f);else{if(o.value.size>=10)return;o.value.add(f),s("select",f)}},c=f=>{o.value.delete(f)},u=()=>{l.value.flatMap(f=>f).filter(f=>o.value.has(f)).forEach(f=>{o.value.delete(f),s("deselect",f)})};return e({deselect:c}),(f,h)=>(fe(),Ce("div",bE,[T("div",EE,[(fe(!0),Ce(Ne,null,_n(l.value,(d,m)=>(fe(),Ce("div",{key:m,class:"select-group",style:Jn({"--group-color":r[m]})},[(fe(!0),Ce(Ne,null,_n(d,(v,D)=>(fe(),Ce("img",{key:D,src:v,class:xt(["icon-item",{selected:o.value.has(v)}]),onClick:k=>a(v)},null,10,wE))),128))],4))),128))]),T("button",{class:"reset-selection-btn",onClick:u},h[0]||(h[0]=[T("span",null,"",-1)]))]))}}),IE=tn(SE,[["__scopeId","data-v-55a95f5b"]]),TE={class:"image-area"},RE=["onClick"],xE=["src"],AE=Bt({__name:"IconDisplay",props:{selectedIcons:{},config:{}},emits:["update:selectedIcons","deselect"],setup(t,{emit:e}){const n=t,s=e,i=Be(()=>n.selectedIcons.map((r,o)=>{const l=o<5,a=o%5,c=n.config.topOffset+a*n.config.verticalGap,u=l?n.config.colorLeft:n.config.colorRight,f={top:`${c}px`,"border-color":u,"--glow-color":`${u}66`};return l?f.left=`${n.config.sideMargin}px`:f.right=`${n.config.sideMargin}px`,f}));return(r,o)=>(fe(),Ce("div",{class:xt(["display-area",{"with-bg":r.config.showBackground}])},[T("div",TE,[we(g_,{name:"icon-list"},{default:ms(()=>[(fe(!0),Ce(Ne,null,_n(r.selectedIcons,(l,a)=>(fe(),Ce("div",{key:l+a,class:"icon-wrapper",style:Jn(i.value[a]),onClick:c=>s("deselect",l)},[T("img",{src:l,class:"icon-image"},null,8,xE)],12,RE))),128))]),_:1})])],2))}}),NE=tn(AE,[["__scopeId","data-v-766a6625"]]),PE={class:"modal-content"},OE={class:"modal-header"},DE={class:"modal-body"},kE={class:"input-group"},ME={class:"input-group"},LE={class:"input-group"},FE={class:"input-group"},BE={class:"input-group"},VE={class:"input-group checkbox-group"},$E=Bt({__name:"SettingsModal",props:{config:{},defaultConfig:{}},emits:["close","apply"],setup(t,{emit:e}){const n=t,s=e,i=Le({...n.config});function r(){i.value={...n.defaultConfig}}function o(){s("apply",{...i.value})}return(l,a)=>(fe(),Ce("div",{class:"modal-overlay",onClick:a[7]||(a[7]=Du(c=>l.$emit("close"),["self"]))},[T("div",PE,[T("div",OE,[a[9]||(a[9]=T("h2",null,"",-1)),T("button",{class:"close-btn",onClick:a[0]||(a[0]=c=>l.$emit("close"))},a[8]||(a[8]=[T("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor","stroke-width":"2.5",fill:"none"},[T("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),T("div",DE,[T("div",kE,[a[10]||(a[10]=T("label",null," (px)",-1)),an(T("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=c=>i.value.sideMargin=c)},null,512),[[os,i.value.sideMargin]])]),T("div",ME,[a[11]||(a[11]=T("label",null," (px)",-1)),an(T("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=c=>i.value.topOffset=c)},null,512),[[os,i.value.topOffset]])]),T("div",LE,[a[12]||(a[12]=T("label",null," (px)",-1)),an(T("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=c=>i.value.verticalGap=c)},null,512),[[os,i.value.verticalGap]])]),T("div",FE,[a[13]||(a[13]=T("label",null,"",-1)),an(T("input",{type:"color","onUpdate:modelValue":a[4]||(a[4]=c=>i.value.colorLeft=c)},null,512),[[os,i.value.colorLeft]])]),T("div",BE,[a[14]||(a[14]=T("label",null,"",-1)),an(T("input",{type:"color","onUpdate:modelValue":a[5]||(a[5]=c=>i.value.colorRight=c)},null,512),[[os,i.value.colorRight]])]),T("div",VE,[an(T("input",{type:"checkbox",id:"show-bg","onUpdate:modelValue":a[6]||(a[6]=c=>i.value.showBackground=c)},null,512),[[E_,i.value.showBackground]]),a[15]||(a[15]=T("label",{for:"show-bg"},"",-1))])]),T("div",{class:"modal-footer"},[T("button",{class:"btn btn-secondary",onClick:r},"  "),T("button",{class:"btn btn-primary",onClick:o},"  ")])])]))}}),HE=tn($E,[["__scopeId","data-v-bbbe267b"]]),UE={class:"container"},WE=Bt({__name:"IV0002",setup(t){const e={sideMargin:50,topOffset:370,verticalGap:84,colorLeft:"#A34DE5",colorRight:"#E5894D",showBackground:!1},n=Le({...e}),s=Le(!1),r=new URLSearchParams(window.location.search).get("room")||"default_room",o=qh(Yh,`matches/${r}/icons`),l=Le([]),a=Le(!1);Zi(()=>{const d=localStorage.getItem("layout_config");if(d)try{n.value=JSON.parse(d)}catch(m){console.error("Failed to load layout config",m)}zh(o,m=>{const v=m.val();v!==null&&(a.value=!0,l.value=Array.isArray(v)?v:[],setTimeout(()=>{a.value=!1},50))})}),Bn(l,d=>{a.value||Kh(o,JSON.parse(JSON.stringify(d)))},{deep:!0});function c(d){n.value=d,localStorage.setItem("layout_config",JSON.stringify(d)),s.value=!1}const u=Le();function f(d){l.value.length<10&&!l.value.includes(d)&&l.value.push(d)}function h(d){var v;const m=l.value.indexOf(d);m!==-1&&(l.value.splice(m,1),(v=u.value)==null||v.deselect(d))}return(d,m)=>(fe(),Ce("div",UE,[T("button",{class:"settings-btn",onClick:m[0]||(m[0]=v=>s.value=!0)},m[4]||(m[4]=[T("img",{src:Wg,alt:"Settings"},null,-1)])),we(NE,{class:"icon-display",selectedIcons:l.value,"onUpdate:selectedIcons":m[1]||(m[1]=v=>l.value=v),config:n.value,onDeselect:m[2]||(m[2]=v=>h(v))},null,8,["selectedIcons","config"]),we(IE,{class:"icon-selector",ref_key:"iconSelectorRef",ref:u,onSelect:f,onDeselect:h},null,512),s.value?(fe(),Mo(HE,{key:0,config:n.value,defaultConfig:e,onClose:m[3]||(m[3]=v=>s.value=!1),onApply:c},null,8,["config"])):Eu("",!0)]))}}),jE=tn(WE,[["__scopeId","data-v-ceab7a0a"]]),GE={class:"draft-canvas"},qE={class:"header"},KE={class:"controls"},zE={class:"leader-frame"},YE={class:"leader-label"},QE={class:"draft-slots"},JE=["onClick","onContextmenu"],XE=["src"],ZE={key:1,class:"empty-slot"},ew={key:2,class:"duplicate-badge"},tw={class:"pool-scroll"},nw=["onClick"],sw=["src","alt"],iw=Bt({__name:"IV0003",setup(t){const e=Object.assign({"/src/assets/images/card/01.png":Ku,"/src/assets/images/card/02.png":zu,"/src/assets/images/card/03.png":Yu,"/src/assets/images/card/04.png":Qu,"/src/assets/images/card/05.png":Ju,"/src/assets/images/card/06.png":Xu,"/src/assets/images/card/07.png":Zu,"/src/assets/images/card/08.png":ef,"/src/assets/images/card/09.png":tf,"/src/assets/images/card/10.png":nf,"/src/assets/images/card/11.png":sf,"/src/assets/images/card/12.png":rf,"/src/assets/images/card/13.png":of,"/src/assets/images/card/14.png":lf,"/src/assets/images/card/15.png":af,"/src/assets/images/card/16.png":cf,"/src/assets/images/card/17.png":uf,"/src/assets/images/card/18.png":ff,"/src/assets/images/card/19.png":hf,"/src/assets/images/card/20.png":df,"/src/assets/images/card/21.png":pf,"/src/assets/images/card/22.png":_f,"/src/assets/images/card/23.png":gf,"/src/assets/images/card/24.png":mf}),n=Be(()=>{const N={};return Object.entries(e).forEach(([H,L])=>{var $;const Z=(($=H.split("/").pop())==null?void 0:$.replace(".png",""))||"";N[Z]=L}),N}),s=Be(()=>Object.keys(n.value).sort((N,H)=>N.localeCompare(H))),i=Le(!1),r=Le(!1),o=Le(6),l=Le([]),a=Le(null),c=Le(null),u=qh(Yh,"draft-rooms/shared"),f=N=>Array.from({length:N},(H,L)=>({id:`t${L+1}`,members:[null,null,null,null]}));Zi(()=>{zh(u,N=>{const H=N.val();if(H){if(!i.value){i.value=!0,o.value=H.teamCount||6;const L=H.teams||f(o.value);l.value=L.map(Z=>({...Z,members:Z.members||[null,null,null,null]})),setTimeout(()=>i.value=!1,50)}}else l.value=f(o.value),h()})});const h=()=>{i.value||(i.value=!0,Kh(u,{teamCount:o.value,teams:JSON.parse(JSON.stringify(l.value))}),setTimeout(()=>i.value=!1,100))};Bn([o,l],()=>{h()},{deep:!0});const d=Be(()=>{var H;const N={};return(H=l.value)==null||H.forEach(L=>{var Z;(Z=L.members)==null||Z.forEach($=>{$&&(N[$]=(N[$]||0)+1)})}),N}),m=N=>{var H;return((H=l.value)==null?void 0:H.some(L=>L.members&&L.members.includes(N)))||!1},v=N=>{if(c.value){const{teamIdx:H,slotIdx:L}=c.value;l.value[H].members||(l.value[H].members=[null,null,null,null]),l.value[H].members[L]=N,c.value=null,a.value=null}else a.value=a.value===N?null:N,c.value=null},D=(N,H)=>{var L,Z;l.value[N]&&(a.value?(l.value[N].members||(l.value[N].members=[null,null,null,null]),l.value[N].members[H]=a.value,a.value=null,c.value=null):l.value[N].members&&l.value[N].members[H]?(l.value[N].members[H]=null,c.value=null):((L=c.value)==null?void 0:L.teamIdx)===N&&((Z=c.value)==null?void 0:Z.slotIdx)===H?c.value=null:(c.value={teamIdx:N,slotIdx:H},a.value=null))},k=(N,H)=>{if(l.value[N]){if(!l.value[N].members){l.value[N].members=[null,null,null,null];return}l.value[N].members[H]=null}},A=()=>{const N=o.value===6?8:6;o.value=N,l.value=f(N)},B=()=>{l.value=f(o.value)},M=()=>{r.value=!r.value};return(N,H)=>(fe(),Ce("div",GE,[T("div",qE,[T("div",KE,[T("button",{onClick:A,class:"toggle-btn"}," Teams: "+hs(o.value),1),T("button",{class:"reset-btn",onClick:B},"Reset")])]),T("div",{class:xt(["teams-container",`teams-${o.value}`])},[(fe(!0),Ce(Ne,null,_n(l.value,(L,Z)=>(fe(),Ce("div",{key:L.id,class:"team-block"},[T("div",zE,[T("span",YE,"Leader "+hs(Z+1),1)]),T("div",QE,[(fe(),Ce(Ne,null,_n(4,$=>{var ee,le;return T("div",{key:$,class:xt(["draft-slot",{"has-player":L.members&&L.members[$-1],"is-duplicate":L.members&&L.members[$-1]&&d.value[L.members[$-1]]>1,selected:((ee=c.value)==null?void 0:ee.teamIdx)===Z&&((le=c.value)==null?void 0:le.slotIdx)===$-1}]),onClick:V=>D(Z,$-1),onContextmenu:Du(V=>k(Z,$-1),["prevent"])},[L.members&&L.members[$-1]&&n.value[L.members[$-1]]?(fe(),Ce("img",{key:0,src:n.value[L.members[$-1]],class:"player-img"},null,8,XE)):(fe(),Ce("div",ZE,H[0]||(H[0]=[T("span",{class:"plus"},"+",-1)]))),L.members&&L.members[$-1]&&d.value[L.members[$-1]]>1?(fe(),Ce("div",ew," "+hs(d.value[L.members[$-1]]),1)):Eu("",!0)],42,JE)}),64))])]))),128))],2),T("div",{class:xt(["draft-pool",[`teams-${o.value}`,{collapsed:r.value}]])},[T("button",{class:"collapse-btn",onClick:M,title:"Toggle Pool"},hs(r.value?"":""),1),an(T("div",tw,[(fe(!0),Ce(Ne,null,_n(s.value,L=>(fe(),Ce("div",{key:L,class:xt(["pool-player",{selected:a.value===L,drafted:m(L)}]),onClick:Z=>v(L)},[T("img",{src:n.value[L],alt:L},null,8,sw)],10,nw))),128))],512),[[e_,!r.value]])],2)]))}}),rw=tn(iw,[["__scopeId","data-v-f3eeae07"]]),ow={},lw={class:"home-portal"},aw={class:"content"},cw={class:"portal-grid"};function uw(t,e){const n=nu("router-link");return fe(),Ce("div",lw,[e[4]||(e[4]=T("div",{class:"bg-overlay"},null,-1)),T("main",aw,[e[3]||(e[3]=T("header",{class:"hero"},[T("h1",null,"Gaming Tool Portal"),T("p",null,"Select a tool to enhance your streaming experience")],-1)),T("div",cw,[we(n,{to:"/imageSelect",class:"portal-card"},{default:ms(()=>e[0]||(e[0]=[T("div",{class:"card-glass"},null,-1),T("div",{class:"card-content"},[T("div",{class:"icon-box"},[T("span",{class:"material-icons"},"image_search")]),T("h2",null,"Image Select"),T("p",null," Configure and manage image overlays for your broadcast. "),T("span",{class:"action-btn"},"Enter Tool")],-1)])),_:1,__:[0]}),we(n,{to:"/iconViewer",class:"portal-card"},{default:ms(()=>e[1]||(e[1]=[T("div",{class:"card-glass"},null,-1),T("div",{class:"card-content"},[T("div",{class:"icon-box"},[T("span",{class:"material-icons"},"account_circle")]),T("h2",null,"Icon Viewer"),T("p",null," Real-time player icon display with OBS transparent support. "),T("span",{class:"action-btn"},"Enter Tool")],-1)])),_:1,__:[1]}),we(n,{to:"/draft",class:"portal-card"},{default:ms(()=>e[2]||(e[2]=[T("div",{class:"card-glass"},null,-1),T("div",{class:"card-content"},[T("div",{class:"icon-box"},[T("span",{class:"material-icons"},"account_tree")]),T("h2",null,"Player Draft Tool"),T("p",null," Manage player drafts with 6/8 teams and remote operation. "),T("span",{class:"action-btn"},"Enter Tool")],-1)])),_:1,__:[2]})])])])}const fw=tn(ow,[["render",uw],["__scopeId","data-v-3e55a093"]]),hw="/imageViewer",dw=kg({history:cg(hw),routes:[{component:fw,path:"/"},{component:Ug,path:"/imageSelect"},{component:jE,path:"/iconViewer"},{component:rw,path:"/draft"}]});x_(P_).use(dw).mount("#app");
